<%- include('partials/header') %>

<!-- Container pour l'application Vue -->
<div id="commandes-app">
  <!-- Loader initial -->
  <div class="admin-content-wrapper">
    <div class="container-fluid mt-4">
      <div class="text-center py-5">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
          <span class="visually-hidden">Chargement...</span>
        </div>
        <p class="mt-3 text-muted">Chargement de l'application...</p>
      </div>
    </div>
  </div>
</div>

<!-- Injecter le token CSRF pour les requêtes AJAX -->
<script>
window.CSRF_TOKEN = '<%= csrfToken %>';
</script>

<!-- App Vue (bundle Vite) -->
<script type="module" src="/dist/commandes.js?v=<%= typeof APP_VERSION !== 'undefined' ? APP_VERSION : Date.now() %>"></script>

<!-- CSS pour animation spinner et responsive -->
<style>
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.spin {
  animation: spin 1s linear infinite;
  display: inline-block;
}

/* Forcer le container à ne pas déborder */
.container-fluid {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Vue mobile avec cartes - jusqu'à 991px */
@media (max-width: 991px) {
  /* Réduire les paddings du container sur mobile */
  .admin-content-wrapper .container-fluid {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }

  /* Réduire les marges des cartes sur mobile */
  .card {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}

/* Ajustements pour écrans moyens (992px - 1199px) */
@media (min-width: 992px) and (max-width: 1199px) {
  /* Réduire la police et les paddings */
  .table td, .table th {
    font-size: 0.85rem;
    padding: 0.5rem 0.25rem;
  }

  .btn-sm {
    padding: 0.25rem 0.5rem;
    font-size: 0.8rem;
  }
}

/* Améliorer pour grands écrans (1200px+) */
@media (min-width: 1200px) {
  .table td, .table th {
    padding: 0.75rem 0.5rem;
  }
}
</style>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
