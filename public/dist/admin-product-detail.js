import{i as g,o as l,c as o,F as n,a as s,b as c,t as a,d as r,p,k as f,r as _,h}from"./chunks/runtime-dom.esm-bundler-CYnru-If.js";import{c as y}from"./chunks/pinia-B_riBLOF.js";const k={class:"container-fluid px-3 mt-4"},x={key:0,class:"alert alert-warning"},w={class:"row"},D={class:"col-12"},C={class:"mb-4"},N={key:0,class:"badge bg-success"},A={key:1,class:"badge bg-secondary"},F={class:"row"},I={class:"col-12 mb-3"},L={class:"d-flex gap-2"},P=["href"],T={class:"row"},j={class:"col-12 col-lg-4 mb-3"},R={key:0,class:"card mb-3"},S={class:"card-body text-center"},V=["src","alt"],$={class:"card"},B={class:"card-body"},M={class:"row mb-0"},E={class:"col-sm-7"},z={key:1,class:"text-muted"},O={class:"col-sm-7"},U=["href"],q={key:1,class:"text-muted"},G={class:"col-sm-7"},H={class:"col-sm-7"},J={class:"col-sm-7"},K={class:"col-sm-7"},Q={class:"col-sm-7"},W={class:"col-sm-7"},X={class:"col-sm-7"},Y={class:"badge bg-success"},Z={class:"col-sm-7"},ss={class:"badge bg-warning text-dark"},es={class:"col-sm-7"},ts={class:"col-sm-7"},ls={class:"col-12 col-lg-8"},os={class:"card"},as={class:"card-header"},is={class:"card-title mb-0"},ns={class:"card-body"},ds={key:0,class:"alert alert-info"},rs={key:1,class:"table-responsive"},cs={class:"table table-hover"},us=["href"],ms={class:"badge bg-info"},_s=["href"],vs={__name:"AdminProductDetailPage",setup(bs){const t=_(null),u=_([]);function b(i){if(!i)return"-";const e=new Date(i);return isNaN(e.getTime())?i:e.toLocaleDateString("fr-FR")}function m(i){if(!i)return"-";const e=new Date(i);return isNaN(e.getTime())?i:e.toLocaleString("fr-FR")}return g(()=>{const i=window.INITIAL_DATA||{};t.value=i.product||null,u.value=i.catalogues||[]}),(i,e)=>(l(),o("div",k,[t.value?(l(),o(n,{key:1},[s("div",w,[s("div",D,[s("h2",C,[c(a(t.value.nom)+" ",1),t.value.is_active?(l(),o("span",N,"Actif")):(l(),o("span",A,"Inactif"))])])]),s("div",F,[s("div",I,[s("div",L,[s("a",{href:`/admin/products/${t.value.id}/edit`,class:"btn btn-primary"},[...e[0]||(e[0]=[s("i",{class:"bi bi-pencil me-2"},null,-1),c("Modifier ",-1)])],8,P),e[1]||(e[1]=s("a",{href:"/admin/products/vue",class:"btn btn-outline-secondary"},[s("i",{class:"bi bi-arrow-left me-2"}),c("Retour à la liste ")],-1))])])]),s("div",T,[s("div",j,[t.value.image_url?(l(),o("div",R,[e[2]||(e[2]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},"Image")],-1)),s("div",S,[s("img",{src:t.value.image_url,alt:t.value.nom,class:"img-fluid rounded",style:{"max-height":"300px"}},null,8,V)])])):r("",!0),s("div",$,[e[15]||(e[15]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},[s("i",{class:"bi bi-info-circle me-2"}),c("Informations ")])],-1)),s("div",B,[s("dl",M,[e[12]||(e[12]=s("dt",{class:"col-sm-5"},"Catégorie",-1)),s("dd",E,[t.value.categorie?(l(),o("span",{key:0,class:"badge",style:p({backgroundColor:t.value.categorie_couleur||"#6c757d"})},a(t.value.categorie),5)):(l(),o("span",z,"-"))]),e[13]||(e[13]=s("dt",{class:"col-sm-5"},"Fournisseur",-1)),s("dd",O,[t.value.fournisseur_id?(l(),o("a",{key:0,href:`/admin/suppliers/${t.value.fournisseur_id}`},a(t.value.fournisseur),9,U)):(l(),o("span",q,"-"))]),t.value.description?(l(),o(n,{key:0},[e[3]||(e[3]=s("dt",{class:"col-sm-5"},"Description",-1)),s("dd",G,a(t.value.description),1)],64)):r("",!0),t.value.reference_fournisseur?(l(),o(n,{key:1},[e[4]||(e[4]=s("dt",{class:"col-sm-5"},"Réf. fournisseur",-1)),s("dd",H,a(t.value.reference_fournisseur),1)],64)):r("",!0),t.value.code_ean?(l(),o(n,{key:2},[e[5]||(e[5]=s("dt",{class:"col-sm-5"},"Code EAN",-1)),s("dd",J,a(t.value.code_ean),1)],64)):r("",!0),t.value.conditionnement?(l(),o(n,{key:3},[e[6]||(e[6]=s("dt",{class:"col-sm-5"},"Conditionnement",-1)),s("dd",K,a(t.value.conditionnement),1)],64)):r("",!0),t.value.dlc_jours?(l(),o(n,{key:4},[e[7]||(e[7]=s("dt",{class:"col-sm-5"},"DLC",-1)),s("dd",Q,a(t.value.dlc_jours)+" jours",1)],64)):r("",!0),t.value.origine?(l(),o(n,{key:5},[e[8]||(e[8]=s("dt",{class:"col-sm-5"},"Origine",-1)),s("dd",W,a(t.value.origine),1)],64)):r("",!0),t.value.label?(l(),o(n,{key:6},[e[9]||(e[9]=s("dt",{class:"col-sm-5"},"Labels",-1)),s("dd",X,[s("span",Y,a(t.value.label),1)])],64)):r("",!0),t.value.allergenes?(l(),o(n,{key:7},[e[10]||(e[10]=s("dt",{class:"col-sm-5"},"Allergènes",-1)),s("dd",Z,[s("span",ss,a(t.value.allergenes),1)])],64)):r("",!0),e[14]||(e[14]=s("dt",{class:"col-sm-5"},"Créé le",-1)),s("dd",es,a(m(t.value.created_at)),1),t.value.updated_at?(l(),o(n,{key:8},[e[11]||(e[11]=s("dt",{class:"col-sm-5"},"Modifié le",-1)),s("dd",ts,a(m(t.value.updated_at)),1)],64)):r("",!0)])])])]),s("div",ls,[s("div",os,[s("div",as,[s("h5",is,[e[16]||(e[16]=s("i",{class:"bi bi-journal-text me-2"},null,-1)),c(" Catalogues utilisant ce produit ("+a(u.value.length)+") ",1)])]),s("div",ns,[u.value.length===0?(l(),o("div",ds,[...e[17]||(e[17]=[s("i",{class:"bi bi-info-circle me-2"},null,-1),c(" Ce produit n'est encore présent dans aucun catalogue. ",-1)])])):(l(),o("div",rs,[s("table",cs,[e[19]||(e[19]=s("thead",{class:"thead-administration"},[s("tr",null,[s("th",null,"Catalogue"),s("th",null,"Date de livraison"),s("th",null,"Prix"),s("th",null,"Unité"),s("th",null,"Paniers"),s("th",null,"Actions")])],-1)),s("tbody",null,[(l(!0),o(n,null,f(u.value,d=>(l(),o("tr",{key:d.id},[s("td",null,[s("a",{href:`/admin/catalogues/${d.id}/edit`,class:"text-decoration-none"},a(d.originalname),9,us)]),s("td",null,a(b(d.date_livraison)),1),s("td",null,[s("strong",null,a(d.prix!=null&&d.prix!==""?Number(d.prix).toFixed(2):"-")+" €",1)]),s("td",null,a(d.unite||"-"),1),s("td",null,[s("span",ms,a(d.nb_paniers||0)+" panier(s)",1)]),s("td",null,[s("a",{href:`/admin/catalogues/${d.id}/edit`,class:"btn btn-sm btn-outline-primary",title:"Voir le catalogue"},[...e[18]||(e[18]=[s("i",{class:"bi bi-eye"},null,-1)])],8,_s)])]))),128))])])]))])])])])],64)):(l(),o("div",x,"Produit non trouvé."))]))}},v=h(vs);v.use(y());v.mount("#admin-product-detail-app");
