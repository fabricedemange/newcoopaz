import{i as g,o,c as a,F as c,a as s,b as d,t as l,j as b,d as m,q as f,n as h,l as y,r as _,h as x}from"./chunks/runtime-dom.esm-bundler-CuNObg1-.js";import{c as k}from"./chunks/pinia-gLxYYWQL.js";import{_ as N}from"./chunks/BackButton-DzFd1NqY.js";const w={class:"container-fluid px-3 mt-4"},C={key:0,class:"alert alert-warning"},D={class:"row"},A={class:"col-12"},j={class:"d-flex justify-content-between align-items-center flex-wrap gap-2 mb-3"},F={class:"mb-0"},P={key:0,class:"badge bg-success"},I={key:1,class:"badge bg-secondary"},L={class:"d-flex gap-2"},T=["href"],V={class:"row"},$={class:"col-12 col-lg-4 mb-3"},q={key:0,class:"card mb-3"},S={class:"card-body text-center"},B=["src","alt"],M={class:"card"},R={class:"card-body"},z={class:"row mb-0"},E={class:"col-sm-7"},U={key:1,class:"text-muted"},O={class:"col-sm-7"},Q=["href"],G={key:1,class:"text-muted"},H={class:"col-sm-7"},J={class:"col-sm-7"},K={class:"col-sm-7"},W={class:"col-sm-7"},X={class:"col-sm-7"},Y={class:"col-sm-7"},Z={class:"col-sm-7"},ss={class:"col-sm-7"},ts={class:"col-sm-7"},es={class:"col-sm-7"},ls={key:0,class:"badge bg-success"},os={key:1,class:"text-muted"},as={class:"col-sm-7"},is={key:0,class:"badge bg-warning text-dark"},ns={key:1,class:"text-muted"},ds={class:"col-sm-7"},rs={class:"col-sm-7"},cs={class:"col-12 col-lg-8"},us={class:"card"},ms={class:"card-header"},_s={class:"card-title mb-0"},vs={class:"card-body"},ps={key:0,class:"alert alert-info"},gs={key:1,class:"table-responsive"},bs={class:"table table-hover"},fs=["href"],hs={class:"badge bg-info"},ys=["href"],xs={__name:"AdminProductDetailPage",setup(ks){const e=_(null),r=_([]);function p(i){if(!i)return"-";const t=new Date(i);return isNaN(t.getTime())?i:t.toLocaleDateString("fr-FR")}function u(i){if(!i)return"-";const t=new Date(i);return isNaN(t.getTime())?i:t.toLocaleString("fr-FR")}return g(()=>{const i=window.INITIAL_DATA||{};e.value=i.product||null,r.value=i.catalogues||[]}),(i,t)=>(o(),a("div",w,[e.value?(o(),a(c,{key:1},[s("div",D,[s("div",A,[s("div",j,[s("h2",F,[d(l(e.value.nom)+" ",1),e.value.is_active?(o(),a("span",P,"Actif")):(o(),a("span",I,"Inactif"))]),s("div",L,[b(N),s("a",{href:`/admin/products/${e.value.id}/edit`,class:"btn btn-primary"},[...t[0]||(t[0]=[s("i",{class:"bi bi-pencil me-2"},null,-1),d("Modifier ",-1)])],8,T)])])])]),s("div",V,[s("div",$,[e.value.image_url?(o(),a("div",q,[t[1]||(t[1]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},"Image")],-1)),s("div",S,[s("img",{src:e.value.image_url,alt:e.value.nom,class:"img-fluid rounded",style:{"max-height":"300px"}},null,8,B)])])):m("",!0),s("div",M,[t[17]||(t[17]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},[s("i",{class:"bi bi-info-circle me-2"}),d("Informations ")])],-1)),s("div",R,[s("dl",z,[t[3]||(t[3]=s("dt",{class:"col-sm-5"},"Catégorie",-1)),s("dd",E,[e.value.categorie?(o(),a("span",{key:0,class:"badge",style:f({backgroundColor:e.value.categorie_couleur||"#6c757d"})},l(e.value.categorie),5)):(o(),a("span",U,"-"))]),t[4]||(t[4]=s("dt",{class:"col-sm-5"},"Fournisseur",-1)),s("dd",O,[e.value.supplier_id||e.value.fournisseur_id?(o(),a("a",{key:0,href:`/admin/suppliers/${e.value.supplier_id||e.value.fournisseur_id}`},l(e.value.fournisseur),9,Q)):(o(),a("span",G,"-"))]),t[5]||(t[5]=s("dt",{class:"col-sm-5"},"Prix (€)",-1)),s("dd",H,[s("strong",{class:h(e.value.prix!=null&&Number(e.value.prix)<0?"text-warning":"text-primary")},l(e.value.prix!=null&&e.value.prix!==""?Number(e.value.prix).toFixed(2):"-")+" € ",3)]),t[6]||(t[6]=s("dt",{class:"col-sm-5"},"Unité",-1)),s("dd",J,l(e.value.unite||"-"),1),t[7]||(t[7]=s("dt",{class:"col-sm-5"},"Quantité minimale",-1)),s("dd",K,l(e.value.quantite_min!=null&&e.value.quantite_min!==""?e.value.quantite_min:"-"),1),t[8]||(t[8]=s("dt",{class:"col-sm-5"},"Description / Commentaire",-1)),s("dd",W,l(e.value.description||"-"),1),t[9]||(t[9]=s("dt",{class:"col-sm-5"},"Réf. fournisseur",-1)),s("dd",X,l(e.value.reference_fournisseur||"-"),1),t[10]||(t[10]=s("dt",{class:"col-sm-5"},"Code EAN",-1)),s("dd",Y,l(e.value.code_ean||"-"),1),t[11]||(t[11]=s("dt",{class:"col-sm-5"},"Conditionnement",-1)),s("dd",Z,l(e.value.conditionnement||"-"),1),t[12]||(t[12]=s("dt",{class:"col-sm-5"},"DLC",-1)),s("dd",ss,l(e.value.dlc_jours!=null&&e.value.dlc_jours!==""?e.value.dlc_jours+" jours":"-"),1),t[13]||(t[13]=s("dt",{class:"col-sm-5"},"Origine",-1)),s("dd",ts,l(e.value.origine||"-"),1),t[14]||(t[14]=s("dt",{class:"col-sm-5"},"Labels",-1)),s("dd",es,[e.value.label?(o(),a("span",ls,l(e.value.label),1)):(o(),a("span",os,"-"))]),t[15]||(t[15]=s("dt",{class:"col-sm-5"},"Allergènes",-1)),s("dd",as,[e.value.allergenes?(o(),a("span",is,l(e.value.allergenes),1)):(o(),a("span",ns,"-"))]),t[16]||(t[16]=s("dt",{class:"col-sm-5"},"Créé le",-1)),s("dd",ds,l(u(e.value.created_at)),1),e.value.updated_at?(o(),a(c,{key:0},[t[2]||(t[2]=s("dt",{class:"col-sm-5"},"Modifié le",-1)),s("dd",rs,l(u(e.value.updated_at)),1)],64)):m("",!0)])])])]),s("div",cs,[s("div",us,[s("div",ms,[s("h5",_s,[t[18]||(t[18]=s("i",{class:"bi bi-journal-text me-2"},null,-1)),d(" Catalogues utilisant ce produit ("+l(r.value.length)+") ",1)])]),s("div",vs,[r.value.length===0?(o(),a("div",ps,[...t[19]||(t[19]=[s("i",{class:"bi bi-info-circle me-2"},null,-1),d(" Ce produit n'est encore présent dans aucun catalogue. ",-1)])])):(o(),a("div",gs,[s("table",bs,[t[21]||(t[21]=s("thead",{class:"thead-administration"},[s("tr",null,[s("th",null,"Catalogue"),s("th",null,"Date de livraison"),s("th",null,"Prix"),s("th",null,"Unité"),s("th",null,"Paniers"),s("th",null,"Actions")])],-1)),s("tbody",null,[(o(!0),a(c,null,y(r.value,n=>(o(),a("tr",{key:n.id},[s("td",null,[s("a",{href:`/admin/catalogues/${n.id}/edit`,class:"text-decoration-none"},l(n.originalname),9,fs)]),s("td",null,l(p(n.date_livraison)),1),s("td",null,[s("strong",null,l(n.prix!=null&&n.prix!==""?Number(n.prix).toFixed(2):"-")+" €",1)]),s("td",null,l(n.unite||"-"),1),s("td",null,[s("span",hs,l(n.nb_paniers||0)+" panier(s)",1)]),s("td",null,[s("a",{href:`/admin/catalogues/${n.id}/edit`,class:"btn btn-sm btn-outline-primary",title:"Voir le catalogue"},[...t[20]||(t[20]=[s("i",{class:"bi bi-eye"},null,-1)])],8,ys)])]))),128))])])]))])])])])],64)):(o(),a("div",C,"Produit non trouvé."))]))}},v=x(xs);v.use(k());v.mount("#admin-product-detail-app");
