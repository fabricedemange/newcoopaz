import{m as I,i as U,o as r,c as n,u as i,a as s,b as m,t as a,F as v,j as N,e as f,s as k,l as h,f as F,v as w,d as _,n as g,q as x,B as S,C as $,w as P,D as M,r as V,g as L,h as D}from"./chunks/runtime-dom.esm-bundler-CuNObg1-.js";import{d as Q,c as E}from"./chunks/pinia-gLxYYWQL.js";import{aH as T,aI as j}from"./chunks/index-CY5spq3H.js";import{_ as q}from"./chunks/BackButton-DzFd1NqY.js";import{_ as z}from"./chunks/AdminProductFormContent-DN59h3Pk.js";const R=Q("adminProducts",{state:()=>({products:[],categories:[],suppliers:[],filters:{categoryId:"",supplierId:"",label:"",search:"",isActive:""},loading:!0,error:null,sortColumn:"nom",sortDirection:"asc",selectedProducts:[],showBulkActions:!1,bulkCategoryId:"",bulkSupplierId:"",bulkUnite:"",bulkQuantiteMin:"",processingBulk:!1}),getters:{filteredCategoriesForFilters(o){if(!o.filters.supplierId)return o.categories;const e=o.filters.supplierId,u=Number(e),c=String(e),b=new Set(o.products.filter(d=>d!=null&&(d.supplier_id==e||String(d.supplier_id??"")===c||Number(d.supplier_id)===u)).map(d=>d.category_id!=null?Number(d.category_id):null).filter(d=>d!=null));return o.categories.filter(d=>d!=null&&(b.has(Number(d.id))||b.has(d.id)))},filteredSuppliersForFilters(o){if(!o.filters.categoryId)return o.suppliers;const e=o.filters.categoryId,u=Number(e),c=String(e),b=new Set(o.products.filter(d=>d!=null&&(d.category_id==e||String(d.category_id??"")===c||Number(d.category_id)===u)).map(d=>d.supplier_id!=null?Number(d.supplier_id):null).filter(d=>d!=null));return o.suppliers.filter(d=>d!=null&&(b.has(Number(d.id))||b.has(d.id)))},filteredProducts(o){let e=[...o.products];if(o.filters.categoryId!=null&&o.filters.categoryId!==""){const u=String(o.filters.categoryId);e=e.filter(c=>c!=null&&String(c.category_id??"")===u)}if(o.filters.supplierId!=null&&o.filters.supplierId!==""){const u=String(o.filters.supplierId);e=e.filter(c=>c!=null&&String(c.supplier_id??"")===u)}if(o.filters.label){const u=o.filters.label.toLowerCase();e=e.filter(c=>c.label&&c.label.toLowerCase().includes(u))}if(o.filters.search){const u=o.filters.search.toLowerCase();e=e.filter(c=>c.nom&&c.nom.toLowerCase().includes(u)||c.description&&c.description.toLowerCase().includes(u))}if(o.filters.isActive!==""){const u=o.filters.isActive==="1";e=e.filter(c=>c.is_active===(u?1:0))}return e=[...e],e.sort((u,c)=>{let b=u[o.sortColumn]??"",d=c[o.sortColumn]??"";return typeof b=="string"&&(b=b.toLowerCase()),typeof d=="string"&&(d=d.toLowerCase()),b<d?o.sortDirection==="asc"?-1:1:b>d?o.sortDirection==="asc"?1:-1:0}),e}},actions:{async loadData(){this.loading=!0,this.error=null;try{const o=await j();if(o.success)this.products=o.products||[],this.categories=o.categories||[],this.suppliers=o.suppliers||[];else throw new Error(o.error||"Erreur inconnue")}catch(o){this.error=o.message||"Erreur lors du chargement des données"}finally{this.loading=!1}},sortBy(o){this.sortColumn===o?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=o,this.sortDirection="asc")},resetFilters(){this.filters={categoryId:"",supplierId:"",label:"",search:"",isActive:""}},toggleProductSelection(o){this.selectedProducts.indexOf(o)>-1?this.selectedProducts=this.selectedProducts.filter(u=>u!==o):this.selectedProducts=[...this.selectedProducts,o]},toggleSelectAll(){this.selectedProducts.length===this.filteredProducts.length?this.selectedProducts=[]:this.selectedProducts=this.filteredProducts.map(o=>o.id)},isSelected(o){return this.selectedProducts.includes(o)},async bulkUpdate(){if(!this.bulkCategoryId&&!this.bulkSupplierId&&!this.bulkUnite&&!this.bulkQuantiteMin){alert("Veuillez sélectionner au moins un champ à modifier");return}if(this.selectedProducts.length===0){alert("Veuillez sélectionner au moins un produit");return}let o=`Modifier ${this.selectedProducts.length} produit(s) ?
`;if(this.bulkCategoryId&&(o+=`- Nouvelle catégorie
`),this.bulkSupplierId&&(o+=`- Nouveau fournisseur
`),this.bulkUnite&&(o+=`- Unité: ${this.bulkUnite}
`),this.bulkQuantiteMin&&(o+=`- Quantité minimale: ${this.bulkQuantiteMin}
`),!!confirm(o)){this.processingBulk=!0;try{const e=await T({productIds:this.selectedProducts,categoryId:this.bulkCategoryId||null,supplierId:this.bulkSupplierId||null,unite:this.bulkUnite||null,quantiteMin:this.bulkQuantiteMin||null});if(e.success)alert(`${e.updated} produit(s) mis à jour avec succès`),this.selectedProducts=[],this.bulkCategoryId="",this.bulkSupplierId="",this.bulkUnite="",this.bulkQuantiteMin="",this.showBulkActions=!1,await this.loadData();else throw new Error(e.error)}catch(e){alert(e.message||"Erreur lors de la mise à jour")}finally{this.processingBulk=!1}}},cancelBulkActions(){this.selectedProducts=[],this.bulkCategoryId="",this.bulkSupplierId="",this.bulkUnite="",this.bulkQuantiteMin="",this.showBulkActions=!1}}}),G={class:"container-fluid px-3 mt-4"},K={key:0,class:"text-center py-5"},O={key:1,class:"alert alert-danger"},H={class:"mb-0"},J={class:"row"},W={class:"col-12"},X={class:"d-flex justify-content-between align-items-center flex-wrap gap-2 mb-2"},Y={class:"row"},Z={class:"col-12"},ss={class:"d-flex flex-column flex-sm-row gap-2 mb-3"},ts={key:0,class:"row mb-3"},es={class:"col-12"},ls={class:"card border-primary"},is={class:"card-body"},os={class:"row align-items-end"},rs={class:"col-12 mb-3"},ns={class:"card-title mb-0"},ds={class:"col-md-3 mb-3 mb-md-0"},us=["value"],as={class:"col-md-3 mb-3 mb-md-0"},cs=["value"],ms={class:"col-md-2 mb-3 mb-md-0"},bs={class:"col-md-2 mb-3 mb-md-0"},ps={class:"col-md-2"},fs={class:"d-flex gap-2"},gs=["disabled"],ys={key:0,class:"spinner-border spinner-border-sm me-2"},vs={key:1,class:"bi bi-check-lg me-2"},ks=["disabled"],hs={class:"row mb-3"},_s={class:"col-12"},ws={class:"card"},xs={class:"card-body"},Cs={class:"row g-3"},Is={class:"col-md-3"},Ss={class:"col-md-3"},Ps=["value"],As={class:"col-md-2"},Bs=["value"],Us={class:"col-md-2"},Ns={class:"col-md-2"},Fs={class:"col-md-12"},$s={class:"row"},Ms={class:"col-12"},Vs={key:0,class:"alert alert-info text-center"},Ls={key:1},Ds={class:"card"},Qs={class:"card-header"},Es={class:"card-title mb-0"},Ts={class:"card-body"},js={class:"table-responsive d-none d-md-block"},qs={class:"table table-hover"},zs={class:"thead-administration"},Rs={style:{width:"40px"}},Gs=["checked"],Ks=["checked","onChange"],Os=["src","alt"],Hs={key:1,class:"text-muted"},Js={key:0},Ws={key:1,class:"text-muted"},Xs={key:1,class:"text-muted"},Ys={key:0},Zs={key:1,class:"text-muted"},st={key:0},tt={key:1,class:"text-muted"},et={class:"badge bg-info"},lt={key:0,class:"badge bg-success"},it={key:1,class:"badge bg-secondary"},ot=["href"],rt=["href"],nt={class:"d-md-none"},dt={class:"card-body"},ut=["src","alt"],at={class:"card-title mb-2"},ct={key:1,class:"card-text text-muted small mb-3"},mt={class:"row g-2 mb-3"},bt={class:"col-6"},pt={key:1,class:"text-muted"},ft={class:"col-6"},gt={class:"col-6"},yt={class:"text-success"},vt={class:"col-6"},kt={class:"col-6"},ht={class:"col-6"},_t={class:"badge bg-info"},wt={class:"col-12"},xt={key:0,class:"badge bg-success"},Ct={key:1,class:"badge bg-secondary"},It={class:"d-flex gap-2"},St=["href"],Pt=["href"],At=["aria-hidden"],Bt={class:"modal-content"},Ut={class:"modal-body"},Nt={__name:"AdminProductsPage",setup(o){const e=R();I(()=>e.filters.categoryId,()=>{e.filters.supplierId&&!e.filteredSuppliersForFilters.some(p=>String(p.id)===e.filters.supplierId)&&(e.filters.supplierId="")}),I(()=>e.filters.supplierId,()=>{e.filters.categoryId&&!e.filteredCategoriesForFilters.some(p=>String(p.id)===e.filters.categoryId)&&(e.filters.categoryId="")});const u=V(!1),c=L(()=>typeof window<"u"&&window.CSRF_TOKEN||"");function b(){u.value=!0}function d(){u.value=!1}function B(){d(),e.loadData()}function y(p){return e.sortColumn!==p?"bi-arrow-down-up":e.sortDirection==="asc"?"bi-arrow-up":"bi-arrow-down"}function C(p,t=60){return p?p.length>t?p.substring(0,t)+"...":p:""}return U(()=>{if(e.loadData(),new URLSearchParams(window.location.search).get("modal")==="new"){u.value=!0;const t=new URL(window.location.href);t.searchParams.delete("modal"),window.history.replaceState({},"",t.toString())}}),(p,t)=>(r(),n("div",G,[i(e).loading?(r(),n("div",K,[...t[23]||(t[23]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Chargement...")],-1),s("p",{class:"mt-3 text-muted"},"Chargement des produits...",-1)])])):i(e).error?(r(),n("div",O,[t[25]||(t[25]=s("h4",{class:"alert-heading"},[s("i",{class:"bi bi-exclamation-triangle me-2"}),m("Erreur")],-1)),s("p",H,a(i(e).error),1),s("button",{type:"button",class:"btn btn-primary mt-2",onClick:t[0]||(t[0]=l=>i(e).loadData())},[...t[24]||(t[24]=[s("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),m("Réessayer ",-1)])])])):(r(),n(v,{key:2},[s("div",J,[s("div",W,[s("div",X,[t[26]||(t[26]=s("h2",{class:"mb-0"},"Gestion des produits",-1)),N(q)]),t[27]||(t[27]=s("p",{class:"text-muted mb-4"},"Gérer la bibliothèque de produits réutilisables",-1))])]),s("div",Y,[s("div",Z,[s("div",ss,[s("button",{type:"button",class:"btn btn-success",onClick:b},[...t[28]||(t[28]=[s("i",{class:"bi bi-plus-circle me-2"},null,-1),m("Ajouter un produit ",-1)])]),s("button",{type:"button",class:"btn btn-outline-primary",onClick:t[1]||(t[1]=l=>i(e).showBulkActions=!i(e).showBulkActions)},[t[29]||(t[29]=s("i",{class:"bi bi-list-check me-2"},null,-1)),m("Actions groupées "+a(i(e).selectedProducts.length>0?` (${i(e).selectedProducts.length})`:""),1)])])])]),i(e).showBulkActions?(r(),n("div",ts,[s("div",es,[s("div",ls,[s("div",is,[s("div",os,[s("div",rs,[s("h5",ns,[t[30]||(t[30]=s("i",{class:"bi bi-pencil-square me-2"},null,-1)),m(" Modifier "+a(i(e).selectedProducts.length)+" produit(s) sélectionné(s) ",1)]),t[31]||(t[31]=s("small",{class:"text-muted"},"Modifiez une ou plusieurs propriétés en même temps",-1))]),s("div",ds,[t[33]||(t[33]=s("label",{class:"form-label"},"Nouvelle catégorie",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=l=>i(e).bulkCategoryId=l)},[t[32]||(t[32]=s("option",{value:""},"Ne pas modifier",-1)),(r(!0),n(v,null,h(i(e).categories,l=>(r(),n("option",{key:l.id,value:l.id},a(l.nom),9,us))),128))],512),[[k,i(e).bulkCategoryId]])]),s("div",as,[t[35]||(t[35]=s("label",{class:"form-label"},"Nouveau fournisseur",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=l=>i(e).bulkSupplierId=l)},[t[34]||(t[34]=s("option",{value:""},"Ne pas modifier",-1)),(r(!0),n(v,null,h(i(e).suppliers,l=>(r(),n("option",{key:l.id,value:l.id},a(l.nom),9,cs))),128))],512),[[k,i(e).bulkSupplierId]])]),s("div",ms,[t[37]||(t[37]=s("label",{class:"form-label"},"Unité",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=l=>i(e).bulkUnite=l)},[...t[36]||(t[36]=[F('<option value="">Ne pas modifier</option><option value="Pièce">Pièce</option><option value="Kilo">Kilo</option><option value="Litre">Litre</option><option value="Unite">Unité</option>',5)])],512),[[k,i(e).bulkUnite]])]),s("div",bs,[t[38]||(t[38]=s("label",{class:"form-label"},"Qté mini",-1)),f(s("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>i(e).bulkQuantiteMin=l),type:"number",class:"form-control",placeholder:"Ex: 0.5",step:"0.001",min:"0"},null,512),[[w,i(e).bulkQuantiteMin]])]),s("div",ps,[s("div",fs,[s("button",{type:"button",class:"btn btn-primary flex-fill",disabled:i(e).processingBulk,onClick:t[6]||(t[6]=l=>i(e).bulkUpdate())},[i(e).processingBulk?(r(),n("span",ys)):(r(),n("i",vs)),t[39]||(t[39]=m(" Appliquer ",-1))],8,gs),s("button",{type:"button",class:"btn btn-outline-secondary",disabled:i(e).processingBulk,onClick:t[7]||(t[7]=l=>i(e).cancelBulkActions())},[...t[40]||(t[40]=[s("i",{class:"bi bi-x-lg"},null,-1)])],8,ks)])])])])])])])):_("",!0),s("div",hs,[s("div",_s,[s("div",ws,[t[50]||(t[50]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},[s("i",{class:"bi bi-funnel me-2"}),m("Filtres")])],-1)),s("div",xs,[s("div",Cs,[s("div",Is,[t[41]||(t[41]=s("label",{class:"form-label"},"Recherche",-1)),f(s("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>i(e).filters.search=l),type:"text",class:"form-control",placeholder:"Nom ou description..."},null,512),[[w,i(e).filters.search]])]),s("div",Ss,[t[43]||(t[43]=s("label",{class:"form-label"},"Catégorie",-1)),f((r(),n("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=l=>i(e).filters.categoryId=l),key:"cat-"+(i(e).filters.supplierId||"all")},[t[42]||(t[42]=s("option",{value:""},"Toutes les catégories",-1)),(r(!0),n(v,null,h(i(e).filteredCategoriesForFilters,l=>(r(),n("option",{key:l.id,value:String(l.id)},a(l.nom),9,Ps))),128))])),[[k,i(e).filters.categoryId]])]),s("div",As,[t[45]||(t[45]=s("label",{class:"form-label"},"Fournisseur",-1)),f((r(),n("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=l=>i(e).filters.supplierId=l),key:"sup-"+(i(e).filters.categoryId||"all")},[t[44]||(t[44]=s("option",{value:""},"Tous les fournisseurs",-1)),(r(!0),n(v,null,h(i(e).filteredSuppliersForFilters,l=>(r(),n("option",{key:l.id,value:String(l.id)},a(l.nom),9,Bs))),128))])),[[k,i(e).filters.supplierId]])]),s("div",Us,[t[46]||(t[46]=s("label",{class:"form-label"},"Label",-1)),f(s("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>i(e).filters.label=l),type:"text",class:"form-control",placeholder:"Bio, AOP, IGP..."},null,512),[[w,i(e).filters.label]])]),s("div",Ns,[t[48]||(t[48]=s("label",{class:"form-label"},"Statut",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=l=>i(e).filters.isActive=l)},[...t[47]||(t[47]=[s("option",{value:""},"Tous",-1),s("option",{value:"1"},"Actifs uniquement",-1),s("option",{value:"0"},"Inactifs uniquement",-1)])],512),[[k,i(e).filters.isActive]])]),s("div",Fs,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[13]||(t[13]=l=>i(e).resetFilters())},[...t[49]||(t[49]=[s("i",{class:"bi bi-x-lg me-2"},null,-1),m("Réinitialiser ",-1)])])])])])])])]),s("div",$s,[s("div",Ms,[i(e).filteredProducts.length===0?(r(),n("div",Vs,[t[51]||(t[51]=s("h4",null,"Aucun produit trouvé",-1)),t[52]||(t[52]=s("p",null,"Commencez par créer votre premier produit ou modifiez les filtres.",-1)),s("button",{type:"button",class:"btn btn-primary",onClick:b},"Créer un produit")])):(r(),n("div",Ls,[s("div",Ds,[s("div",Qs,[s("h5",Es,[t[53]||(t[53]=s("i",{class:"bi bi-box-seam me-2"},null,-1)),m(" Liste des produits ("+a(i(e).filteredProducts.length)+") ",1)])]),s("div",Ts,[s("div",js,[s("table",qs,[s("thead",zs,[s("tr",null,[s("th",Rs,[s("input",{type:"checkbox",class:"form-check-input",checked:i(e).selectedProducts.length===i(e).filteredProducts.length&&i(e).filteredProducts.length>0,onChange:t[14]||(t[14]=l=>i(e).toggleSelectAll()),title:"Tout sélectionner"},null,40,Gs)]),t[61]||(t[61]=s("th",null,"Image",-1)),s("th",{style:{cursor:"pointer"},onClick:t[15]||(t[15]=l=>i(e).sortBy("nom"))},[t[54]||(t[54]=m(" Produit ",-1)),s("i",{class:g("bi ms-1 "+y("nom"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[16]||(t[16]=l=>i(e).sortBy("categorie"))},[t[55]||(t[55]=m(" Catégorie ",-1)),s("i",{class:g("bi ms-1 "+y("categorie"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[17]||(t[17]=l=>i(e).sortBy("fournisseur"))},[t[56]||(t[56]=m(" Fournisseur ",-1)),s("i",{class:g("bi ms-1 "+y("fournisseur"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[18]||(t[18]=l=>i(e).sortBy("prix"))},[t[57]||(t[57]=m(" Prix ",-1)),s("i",{class:g("bi ms-1 "+y("prix"))},null,2)]),t[62]||(t[62]=s("th",null,"Unité",-1)),s("th",{style:{cursor:"pointer"},onClick:t[19]||(t[19]=l=>i(e).sortBy("label"))},[t[58]||(t[58]=m(" Label ",-1)),s("i",{class:g("bi ms-1 "+y("label"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[20]||(t[20]=l=>i(e).sortBy("nb_catalogues"))},[t[59]||(t[59]=m(" Catalogues ",-1)),s("i",{class:g("bi ms-1 "+y("nb_catalogues"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[21]||(t[21]=l=>i(e).sortBy("is_active"))},[t[60]||(t[60]=m(" Statut ",-1)),s("i",{class:g("bi ms-1 "+y("is_active"))},null,2)]),t[63]||(t[63]=s("th",null,"Actions",-1))])]),s("tbody",null,[(r(!0),n(v,null,h(i(e).filteredProducts,l=>(r(),n("tr",{key:l.id},[s("td",null,[s("input",{type:"checkbox",class:"form-check-input",checked:i(e).isSelected(l.id),onChange:Ft=>i(e).toggleProductSelection(l.id)},null,40,Ks)]),s("td",null,[l.image_url?(r(),n("img",{key:0,src:l.image_url,alt:l.nom,style:{width:"50px",height:"50px","object-fit":"cover"},class:"rounded"},null,8,Os)):(r(),n("span",Hs,"-"))]),s("td",null,[s("strong",null,a(l.nom),1),l.description?(r(),n("br",Js)):_("",!0),l.description?(r(),n("small",Ws,a(C(l.description,60)),1)):_("",!0)]),s("td",null,[l.categorie?(r(),n("span",{key:0,class:"badge",style:x({backgroundColor:l.categorie_couleur||"#6c757d"})},a(l.categorie),5)):(r(),n("span",Xs,"-"))]),s("td",null,a(l.fournisseur||"-"),1),s("td",null,[l.prix&&l.prix>0?(r(),n("strong",Ys,a(parseFloat(l.prix).toFixed(2))+" €",1)):(r(),n("span",Zs,"-"))]),s("td",null,a(l.unite||"-"),1),s("td",null,[l.label?(r(),n("small",st,a(l.label),1)):(r(),n("span",tt,"-"))]),s("td",null,[s("span",et,a(l.nb_catalogues||0),1)]),s("td",null,[l.is_active?(r(),n("span",lt,"Actif")):(r(),n("span",it,"Inactif"))]),s("td",null,[s("a",{href:`/admin/products/${l.id}`,class:"btn btn-outline-primary btn-sm",title:"Voir"},[...t[64]||(t[64]=[s("i",{class:"bi bi-eye"},null,-1)])],8,ot),s("a",{href:`/admin/products/${l.id}/edit`,class:"btn btn-outline-secondary btn-sm ms-1",title:"Modifier"},[...t[65]||(t[65]=[s("i",{class:"bi bi-pencil"},null,-1)])],8,rt)])]))),128))])])]),s("div",nt,[(r(!0),n(v,null,h(i(e).filteredProducts,l=>(r(),n("div",{key:"m-"+l.id,class:"card mb-3 shadow-sm"},[s("div",dt,[l.image_url?(r(),n("img",{key:0,src:l.image_url,alt:l.nom,style:{width:"100%",height:"150px","object-fit":"cover","margin-bottom":"10px"},class:"rounded"},null,8,ut)):_("",!0),s("h5",at,a(l.nom),1),l.description?(r(),n("p",ct,a(C(l.description,100)),1)):_("",!0),s("div",mt,[s("div",bt,[t[66]||(t[66]=s("small",{class:"text-muted d-block"},"Catégorie",-1)),l.categorie?(r(),n("span",{key:0,class:"badge",style:x({backgroundColor:l.categorie_couleur||"#6c757d"})},a(l.categorie),5)):(r(),n("span",pt,"-"))]),s("div",ft,[t[67]||(t[67]=s("small",{class:"text-muted d-block"},"Fournisseur",-1)),s("strong",null,a(l.fournisseur||"-"),1)]),s("div",gt,[t[68]||(t[68]=s("small",{class:"text-muted d-block"},"Prix",-1)),s("strong",yt,a(l.prix&&l.prix>0?parseFloat(l.prix).toFixed(2)+" €":"-"),1)]),s("div",vt,[t[69]||(t[69]=s("small",{class:"text-muted d-block"},"Unité",-1)),s("strong",null,a(l.unite||"-"),1)]),s("div",kt,[t[70]||(t[70]=s("small",{class:"text-muted d-block"},"Label",-1)),s("strong",null,a(l.label||"-"),1)]),s("div",ht,[t[71]||(t[71]=s("small",{class:"text-muted d-block"},"Catalogues",-1)),s("span",_t,a(l.nb_catalogues||0),1)]),s("div",wt,[t[72]||(t[72]=s("small",{class:"text-muted d-block"},"Statut",-1)),l.is_active?(r(),n("span",xt,"Actif")):(r(),n("span",Ct,"Inactif"))])]),s("div",It,[s("a",{href:`/admin/products/${l.id}`,class:"btn btn-sm btn-outline-primary flex-fill"},[...t[73]||(t[73]=[s("i",{class:"bi bi-eye me-1"},null,-1),m("Voir ",-1)])],8,St),s("a",{href:`/admin/products/${l.id}/edit`,class:"btn btn-sm btn-outline-secondary flex-fill"},[...t[74]||(t[74]=[s("i",{class:"bi bi-pencil me-1"},null,-1),m("Modifier ",-1)])],8,Pt)])])]))),128))])])])]))])])],64)),(r(),S(M,{to:"body"},[f(s("div",{class:g(["modal fade",{show:u.value}]),"aria-hidden":!u.value,tabindex:"-1",style:x(u.value?{display:"flex",visibility:"visible"}:{display:"none",visibility:"hidden"}),onClick:P(d,["self"])},[s("div",{class:g(["modal-backdrop fade",{show:u.value}]),onClick:d},null,2),s("div",{class:"modal-dialog modal-lg modal-dialog-scrollable",role:"document",onClick:t[22]||(t[22]=P(()=>{},["stop"]))},[s("div",Bt,[s("div",{class:"modal-header"},[t[75]||(t[75]=s("h5",{class:"modal-title"},"Créer un nouveau produit",-1)),s("button",{type:"button",class:"btn-close","aria-label":"Fermer",onClick:d})]),s("div",Ut,[u.value?(r(),S(z,{key:0,categories:i(e).categories,suppliers:i(e).suppliers,product:null,"product-id":null,modal:!0,"csrf-token":c.value,onSuccess:B,onCancel:d},null,8,["categories","suppliers","csrf-token"])):_("",!0)])])])],14,At),[[$,u.value]])]))]))}},A=D(Nt);A.use(E());A.mount("#admin-produits-app");
