import{l as I,i as N,o as r,c as n,u as i,a as s,b as m,t as c,F as v,e as f,q as k,k as h,f as U,v as w,d as _,n as g,p as C,B as S,C as F,w as P,D as $,r as M,g as V,h as L}from"./chunks/runtime-dom.esm-bundler-CPobOing.js";import{d as D,c as Q}from"./chunks/pinia-8wUEIqj_.js";import{ap as E,aq as T}from"./chunks/index-BwM03k9W.js";import{_ as q}from"./chunks/AdminProductFormContent-BxDwXJc8.js";const z=D("adminProducts",{state:()=>({products:[],categories:[],suppliers:[],filters:{categoryId:"",supplierId:"",label:"",search:"",isActive:""},loading:!0,error:null,sortColumn:"nom",sortDirection:"asc",selectedProducts:[],showBulkActions:!1,bulkCategoryId:"",bulkSupplierId:"",bulkUnite:"",bulkQuantiteMin:"",processingBulk:!1}),getters:{filteredCategoriesForFilters(o){if(!o.filters.supplierId)return o.categories;const e=o.filters.supplierId,u=Number(e),a=String(e),b=new Set(o.products.filter(d=>d!=null&&(d.supplier_id==e||String(d.supplier_id??"")===a||Number(d.supplier_id)===u)).map(d=>d.category_id!=null?Number(d.category_id):null).filter(d=>d!=null));return o.categories.filter(d=>d!=null&&(b.has(Number(d.id))||b.has(d.id)))},filteredSuppliersForFilters(o){if(!o.filters.categoryId)return o.suppliers;const e=o.filters.categoryId,u=Number(e),a=String(e),b=new Set(o.products.filter(d=>d!=null&&(d.category_id==e||String(d.category_id??"")===a||Number(d.category_id)===u)).map(d=>d.supplier_id!=null?Number(d.supplier_id):null).filter(d=>d!=null));return o.suppliers.filter(d=>d!=null&&(b.has(Number(d.id))||b.has(d.id)))},filteredProducts(o){let e=[...o.products];if(o.filters.categoryId!=null&&o.filters.categoryId!==""){const u=String(o.filters.categoryId);e=e.filter(a=>a!=null&&String(a.category_id??"")===u)}if(o.filters.supplierId!=null&&o.filters.supplierId!==""){const u=String(o.filters.supplierId);e=e.filter(a=>a!=null&&String(a.supplier_id??"")===u)}if(o.filters.label){const u=o.filters.label.toLowerCase();e=e.filter(a=>a.label&&a.label.toLowerCase().includes(u))}if(o.filters.search){const u=o.filters.search.toLowerCase();e=e.filter(a=>a.nom&&a.nom.toLowerCase().includes(u)||a.description&&a.description.toLowerCase().includes(u))}if(o.filters.isActive!==""){const u=o.filters.isActive==="1";e=e.filter(a=>a.is_active===(u?1:0))}return e=[...e],e.sort((u,a)=>{let b=u[o.sortColumn]??"",d=a[o.sortColumn]??"";return typeof b=="string"&&(b=b.toLowerCase()),typeof d=="string"&&(d=d.toLowerCase()),b<d?o.sortDirection==="asc"?-1:1:b>d?o.sortDirection==="asc"?1:-1:0}),e}},actions:{async loadData(){this.loading=!0,this.error=null;try{const o=await T();if(o.success)this.products=o.products||[],this.categories=o.categories||[],this.suppliers=o.suppliers||[];else throw new Error(o.error||"Erreur inconnue")}catch(o){this.error=o.message||"Erreur lors du chargement des données"}finally{this.loading=!1}},sortBy(o){this.sortColumn===o?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=o,this.sortDirection="asc")},resetFilters(){this.filters={categoryId:"",supplierId:"",label:"",search:"",isActive:""}},toggleProductSelection(o){this.selectedProducts.indexOf(o)>-1?this.selectedProducts=this.selectedProducts.filter(u=>u!==o):this.selectedProducts=[...this.selectedProducts,o]},toggleSelectAll(){this.selectedProducts.length===this.filteredProducts.length?this.selectedProducts=[]:this.selectedProducts=this.filteredProducts.map(o=>o.id)},isSelected(o){return this.selectedProducts.includes(o)},async bulkUpdate(){if(!this.bulkCategoryId&&!this.bulkSupplierId&&!this.bulkUnite&&!this.bulkQuantiteMin){alert("Veuillez sélectionner au moins un champ à modifier");return}if(this.selectedProducts.length===0){alert("Veuillez sélectionner au moins un produit");return}let o=`Modifier ${this.selectedProducts.length} produit(s) ?
`;if(this.bulkCategoryId&&(o+=`- Nouvelle catégorie
`),this.bulkSupplierId&&(o+=`- Nouveau fournisseur
`),this.bulkUnite&&(o+=`- Unité: ${this.bulkUnite}
`),this.bulkQuantiteMin&&(o+=`- Quantité minimale: ${this.bulkQuantiteMin}
`),!!confirm(o)){this.processingBulk=!0;try{const e=await E({productIds:this.selectedProducts,categoryId:this.bulkCategoryId||null,supplierId:this.bulkSupplierId||null,unite:this.bulkUnite||null,quantiteMin:this.bulkQuantiteMin||null});if(e.success)alert(`${e.updated} produit(s) mis à jour avec succès`),this.selectedProducts=[],this.bulkCategoryId="",this.bulkSupplierId="",this.bulkUnite="",this.bulkQuantiteMin="",this.showBulkActions=!1,await this.loadData();else throw new Error(e.error)}catch(e){alert(e.message||"Erreur lors de la mise à jour")}finally{this.processingBulk=!1}}},cancelBulkActions(){this.selectedProducts=[],this.bulkCategoryId="",this.bulkSupplierId="",this.bulkUnite="",this.bulkQuantiteMin="",this.showBulkActions=!1}}}),R={class:"container-fluid px-3 mt-4"},j={key:0,class:"text-center py-5"},G={key:1,class:"alert alert-danger"},K={class:"mb-0"},O={class:"row"},H={class:"col-12"},J={class:"d-flex flex-column flex-sm-row gap-2 mb-3"},W={key:0,class:"row mb-3"},X={class:"col-12"},Y={class:"card border-primary"},Z={class:"card-body"},ss={class:"row align-items-end"},ts={class:"col-12 mb-3"},es={class:"card-title mb-0"},ls={class:"col-md-3 mb-3 mb-md-0"},is=["value"],os={class:"col-md-3 mb-3 mb-md-0"},rs=["value"],ns={class:"col-md-2 mb-3 mb-md-0"},ds={class:"col-md-2 mb-3 mb-md-0"},us={class:"col-md-2"},as={class:"d-flex gap-2"},cs=["disabled"],ms={key:0,class:"spinner-border spinner-border-sm me-2"},bs={key:1,class:"bi bi-check-lg me-2"},ps=["disabled"],fs={class:"row mb-3"},gs={class:"col-12"},ys={class:"card"},vs={class:"card-body"},ks={class:"row g-3"},hs={class:"col-md-3"},_s={class:"col-md-3"},ws=["value"],Cs={class:"col-md-2"},xs=["value"],Is={class:"col-md-2"},Ss={class:"col-md-2"},Ps={class:"col-md-12"},As={class:"row"},Bs={class:"col-12"},Ns={key:0,class:"alert alert-info text-center"},Us={key:1},Fs={class:"card"},$s={class:"card-header"},Ms={class:"card-title mb-0"},Vs={class:"card-body"},Ls={class:"table-responsive d-none d-md-block"},Ds={class:"table table-hover"},Qs={class:"thead-administration"},Es={style:{width:"40px"}},Ts=["checked"],qs=["checked","onChange"],zs=["src","alt"],Rs={key:1,class:"text-muted"},js={key:0},Gs={key:1,class:"text-muted"},Ks={key:1,class:"text-muted"},Os={key:0},Hs={key:1,class:"text-muted"},Js={key:0},Ws={key:1,class:"text-muted"},Xs={class:"badge bg-info"},Ys={key:0,class:"badge bg-success"},Zs={key:1,class:"badge bg-secondary"},st=["href"],tt=["href"],et={class:"d-md-none"},lt={class:"card-body"},it=["src","alt"],ot={class:"card-title mb-2"},rt={key:1,class:"card-text text-muted small mb-3"},nt={class:"row g-2 mb-3"},dt={class:"col-6"},ut={key:1,class:"text-muted"},at={class:"col-6"},ct={class:"col-6"},mt={class:"text-success"},bt={class:"col-6"},pt={class:"col-6"},ft={class:"badge bg-info"},gt={class:"col-12"},yt={key:0,class:"badge bg-success"},vt={key:1,class:"badge bg-secondary"},kt={class:"d-flex gap-2"},ht=["href"],_t=["href"],wt=["aria-hidden"],Ct={class:"modal-content"},xt={class:"modal-body"},It={__name:"AdminProductsPage",setup(o){const e=z();I(()=>e.filters.categoryId,()=>{e.filters.supplierId&&!e.filteredSuppliersForFilters.some(p=>String(p.id)===e.filters.supplierId)&&(e.filters.supplierId="")}),I(()=>e.filters.supplierId,()=>{e.filters.categoryId&&!e.filteredCategoriesForFilters.some(p=>String(p.id)===e.filters.categoryId)&&(e.filters.categoryId="")});const u=M(!1),a=V(()=>typeof window<"u"&&window.CSRF_TOKEN||"");function b(){u.value=!0}function d(){u.value=!1}function B(){d(),e.loadData()}function y(p){return e.sortColumn!==p?"bi-arrow-down-up":e.sortDirection==="asc"?"bi-arrow-up":"bi-arrow-down"}function x(p,t=60){return p?p.length>t?p.substring(0,t)+"...":p:""}return N(()=>{if(e.loadData(),new URLSearchParams(window.location.search).get("modal")==="new"){u.value=!0;const t=new URL(window.location.href);t.searchParams.delete("modal"),window.history.replaceState({},"",t.toString())}}),(p,t)=>(r(),n("div",R,[i(e).loading?(r(),n("div",j,[...t[23]||(t[23]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Chargement...")],-1),s("p",{class:"mt-3 text-muted"},"Chargement des produits...",-1)])])):i(e).error?(r(),n("div",G,[t[25]||(t[25]=s("h4",{class:"alert-heading"},[s("i",{class:"bi bi-exclamation-triangle me-2"}),m("Erreur")],-1)),s("p",K,c(i(e).error),1),s("button",{type:"button",class:"btn btn-primary mt-2",onClick:t[0]||(t[0]=l=>i(e).loadData())},[...t[24]||(t[24]=[s("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),m("Réessayer ",-1)])])])):(r(),n(v,{key:2},[t[71]||(t[71]=s("div",{class:"row"},[s("div",{class:"col-12"},[s("h2",{class:"mb-4"},"Gestion des produits"),s("p",{class:"text-muted mb-4"},"Gérer la bibliothèque de produits réutilisables")])],-1)),s("div",O,[s("div",H,[s("div",J,[s("button",{type:"button",class:"btn btn-success",onClick:b},[...t[26]||(t[26]=[s("i",{class:"bi bi-plus-circle me-2"},null,-1),m("Ajouter un produit ",-1)])]),s("button",{type:"button",class:"btn btn-outline-primary",onClick:t[1]||(t[1]=l=>i(e).showBulkActions=!i(e).showBulkActions)},[t[27]||(t[27]=s("i",{class:"bi bi-list-check me-2"},null,-1)),m("Actions groupées "+c(i(e).selectedProducts.length>0?` (${i(e).selectedProducts.length})`:""),1)])])])]),i(e).showBulkActions?(r(),n("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[s("div",ts,[s("h5",es,[t[28]||(t[28]=s("i",{class:"bi bi-pencil-square me-2"},null,-1)),m(" Modifier "+c(i(e).selectedProducts.length)+" produit(s) sélectionné(s) ",1)]),t[29]||(t[29]=s("small",{class:"text-muted"},"Modifiez une ou plusieurs propriétés en même temps",-1))]),s("div",ls,[t[31]||(t[31]=s("label",{class:"form-label"},"Nouvelle catégorie",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=l=>i(e).bulkCategoryId=l)},[t[30]||(t[30]=s("option",{value:""},"Ne pas modifier",-1)),(r(!0),n(v,null,h(i(e).categories,l=>(r(),n("option",{key:l.id,value:l.id},c(l.nom),9,is))),128))],512),[[k,i(e).bulkCategoryId]])]),s("div",os,[t[33]||(t[33]=s("label",{class:"form-label"},"Nouveau fournisseur",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=l=>i(e).bulkSupplierId=l)},[t[32]||(t[32]=s("option",{value:""},"Ne pas modifier",-1)),(r(!0),n(v,null,h(i(e).suppliers,l=>(r(),n("option",{key:l.id,value:l.id},c(l.nom),9,rs))),128))],512),[[k,i(e).bulkSupplierId]])]),s("div",ns,[t[35]||(t[35]=s("label",{class:"form-label"},"Unité",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=l=>i(e).bulkUnite=l)},[...t[34]||(t[34]=[U('<option value="">Ne pas modifier</option><option value="Pièce">Pièce</option><option value="Kilo">Kilo</option><option value="Litre">Litre</option><option value="Unite">Unité</option>',5)])],512),[[k,i(e).bulkUnite]])]),s("div",ds,[t[36]||(t[36]=s("label",{class:"form-label"},"Qté mini",-1)),f(s("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>i(e).bulkQuantiteMin=l),type:"number",class:"form-control",placeholder:"Ex: 0.5",step:"0.001",min:"0"},null,512),[[w,i(e).bulkQuantiteMin]])]),s("div",us,[s("div",as,[s("button",{type:"button",class:"btn btn-primary flex-fill",disabled:i(e).processingBulk,onClick:t[6]||(t[6]=l=>i(e).bulkUpdate())},[i(e).processingBulk?(r(),n("span",ms)):(r(),n("i",bs)),t[37]||(t[37]=m(" Appliquer ",-1))],8,cs),s("button",{type:"button",class:"btn btn-outline-secondary",disabled:i(e).processingBulk,onClick:t[7]||(t[7]=l=>i(e).cancelBulkActions())},[...t[38]||(t[38]=[s("i",{class:"bi bi-x-lg"},null,-1)])],8,ps)])])])])])])])):_("",!0),s("div",fs,[s("div",gs,[s("div",ys,[t[48]||(t[48]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},[s("i",{class:"bi bi-funnel me-2"}),m("Filtres")])],-1)),s("div",vs,[s("div",ks,[s("div",hs,[t[39]||(t[39]=s("label",{class:"form-label"},"Recherche",-1)),f(s("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>i(e).filters.search=l),type:"text",class:"form-control",placeholder:"Nom ou description..."},null,512),[[w,i(e).filters.search]])]),s("div",_s,[t[41]||(t[41]=s("label",{class:"form-label"},"Catégorie",-1)),f((r(),n("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=l=>i(e).filters.categoryId=l),key:"cat-"+(i(e).filters.supplierId||"all")},[t[40]||(t[40]=s("option",{value:""},"Toutes les catégories",-1)),(r(!0),n(v,null,h(i(e).filteredCategoriesForFilters,l=>(r(),n("option",{key:l.id,value:String(l.id)},c(l.nom),9,ws))),128))])),[[k,i(e).filters.categoryId]])]),s("div",Cs,[t[43]||(t[43]=s("label",{class:"form-label"},"Fournisseur",-1)),f((r(),n("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=l=>i(e).filters.supplierId=l),key:"sup-"+(i(e).filters.categoryId||"all")},[t[42]||(t[42]=s("option",{value:""},"Tous les fournisseurs",-1)),(r(!0),n(v,null,h(i(e).filteredSuppliersForFilters,l=>(r(),n("option",{key:l.id,value:String(l.id)},c(l.nom),9,xs))),128))])),[[k,i(e).filters.supplierId]])]),s("div",Is,[t[44]||(t[44]=s("label",{class:"form-label"},"Label",-1)),f(s("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>i(e).filters.label=l),type:"text",class:"form-control",placeholder:"Bio, AOP, IGP..."},null,512),[[w,i(e).filters.label]])]),s("div",Ss,[t[46]||(t[46]=s("label",{class:"form-label"},"Statut",-1)),f(s("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=l=>i(e).filters.isActive=l)},[...t[45]||(t[45]=[s("option",{value:""},"Tous",-1),s("option",{value:"1"},"Actifs uniquement",-1),s("option",{value:"0"},"Inactifs uniquement",-1)])],512),[[k,i(e).filters.isActive]])]),s("div",Ps,[s("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[13]||(t[13]=l=>i(e).resetFilters())},[...t[47]||(t[47]=[s("i",{class:"bi bi-x-lg me-2"},null,-1),m("Réinitialiser ",-1)])])])])])])])]),s("div",As,[s("div",Bs,[i(e).filteredProducts.length===0?(r(),n("div",Ns,[t[49]||(t[49]=s("h4",null,"Aucun produit trouvé",-1)),t[50]||(t[50]=s("p",null,"Commencez par créer votre premier produit ou modifiez les filtres.",-1)),s("button",{type:"button",class:"btn btn-primary",onClick:b},"Créer un produit")])):(r(),n("div",Us,[s("div",Fs,[s("div",$s,[s("h5",Ms,[t[51]||(t[51]=s("i",{class:"bi bi-box-seam me-2"},null,-1)),m(" Liste des produits ("+c(i(e).filteredProducts.length)+") ",1)])]),s("div",Vs,[s("div",Ls,[s("table",Ds,[s("thead",Qs,[s("tr",null,[s("th",Es,[s("input",{type:"checkbox",class:"form-check-input",checked:i(e).selectedProducts.length===i(e).filteredProducts.length&&i(e).filteredProducts.length>0,onChange:t[14]||(t[14]=l=>i(e).toggleSelectAll()),title:"Tout sélectionner"},null,40,Ts)]),t[59]||(t[59]=s("th",null,"Image",-1)),s("th",{style:{cursor:"pointer"},onClick:t[15]||(t[15]=l=>i(e).sortBy("nom"))},[t[52]||(t[52]=m(" Produit ",-1)),s("i",{class:g("bi ms-1 "+y("nom"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[16]||(t[16]=l=>i(e).sortBy("categorie"))},[t[53]||(t[53]=m(" Catégorie ",-1)),s("i",{class:g("bi ms-1 "+y("categorie"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[17]||(t[17]=l=>i(e).sortBy("fournisseur"))},[t[54]||(t[54]=m(" Fournisseur ",-1)),s("i",{class:g("bi ms-1 "+y("fournisseur"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[18]||(t[18]=l=>i(e).sortBy("prix"))},[t[55]||(t[55]=m(" Prix ",-1)),s("i",{class:g("bi ms-1 "+y("prix"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[19]||(t[19]=l=>i(e).sortBy("label"))},[t[56]||(t[56]=m(" Label ",-1)),s("i",{class:g("bi ms-1 "+y("label"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[20]||(t[20]=l=>i(e).sortBy("nb_catalogues"))},[t[57]||(t[57]=m(" Catalogues ",-1)),s("i",{class:g("bi ms-1 "+y("nb_catalogues"))},null,2)]),s("th",{style:{cursor:"pointer"},onClick:t[21]||(t[21]=l=>i(e).sortBy("is_active"))},[t[58]||(t[58]=m(" Statut ",-1)),s("i",{class:g("bi ms-1 "+y("is_active"))},null,2)]),t[60]||(t[60]=s("th",null,"Actions",-1))])]),s("tbody",null,[(r(!0),n(v,null,h(i(e).filteredProducts,l=>(r(),n("tr",{key:l.id},[s("td",null,[s("input",{type:"checkbox",class:"form-check-input",checked:i(e).isSelected(l.id),onChange:St=>i(e).toggleProductSelection(l.id)},null,40,qs)]),s("td",null,[l.image_url?(r(),n("img",{key:0,src:l.image_url,alt:l.nom,style:{width:"50px",height:"50px","object-fit":"cover"},class:"rounded"},null,8,zs)):(r(),n("span",Rs,"-"))]),s("td",null,[s("strong",null,c(l.nom),1),l.description?(r(),n("br",js)):_("",!0),l.description?(r(),n("small",Gs,c(x(l.description,60)),1)):_("",!0)]),s("td",null,[l.categorie?(r(),n("span",{key:0,class:"badge",style:C({backgroundColor:l.categorie_couleur||"#6c757d"})},c(l.categorie),5)):(r(),n("span",Ks,"-"))]),s("td",null,c(l.fournisseur||"-"),1),s("td",null,[l.prix&&l.prix>0?(r(),n("strong",Os,c(parseFloat(l.prix).toFixed(2))+" €",1)):(r(),n("span",Hs,"-"))]),s("td",null,[l.label?(r(),n("small",Js,c(l.label),1)):(r(),n("span",Ws,"-"))]),s("td",null,[s("span",Xs,c(l.nb_catalogues||0),1)]),s("td",null,[l.is_active?(r(),n("span",Ys,"Actif")):(r(),n("span",Zs,"Inactif"))]),s("td",null,[s("a",{href:`/admin/products/${l.id}`,class:"btn btn-outline-primary btn-sm",title:"Voir"},[...t[61]||(t[61]=[s("i",{class:"bi bi-eye"},null,-1)])],8,st),s("a",{href:`/admin/products/${l.id}/edit`,class:"btn btn-outline-secondary btn-sm ms-1",title:"Modifier"},[...t[62]||(t[62]=[s("i",{class:"bi bi-pencil"},null,-1)])],8,tt)])]))),128))])])]),s("div",et,[(r(!0),n(v,null,h(i(e).filteredProducts,l=>(r(),n("div",{key:"m-"+l.id,class:"card mb-3 shadow-sm"},[s("div",lt,[l.image_url?(r(),n("img",{key:0,src:l.image_url,alt:l.nom,style:{width:"100%",height:"150px","object-fit":"cover","margin-bottom":"10px"},class:"rounded"},null,8,it)):_("",!0),s("h5",ot,c(l.nom),1),l.description?(r(),n("p",rt,c(x(l.description,100)),1)):_("",!0),s("div",nt,[s("div",dt,[t[63]||(t[63]=s("small",{class:"text-muted d-block"},"Catégorie",-1)),l.categorie?(r(),n("span",{key:0,class:"badge",style:C({backgroundColor:l.categorie_couleur||"#6c757d"})},c(l.categorie),5)):(r(),n("span",ut,"-"))]),s("div",at,[t[64]||(t[64]=s("small",{class:"text-muted d-block"},"Fournisseur",-1)),s("strong",null,c(l.fournisseur||"-"),1)]),s("div",ct,[t[65]||(t[65]=s("small",{class:"text-muted d-block"},"Prix",-1)),s("strong",mt,c(l.prix&&l.prix>0?parseFloat(l.prix).toFixed(2)+" €":"-"),1)]),s("div",bt,[t[66]||(t[66]=s("small",{class:"text-muted d-block"},"Label",-1)),s("strong",null,c(l.label||"-"),1)]),s("div",pt,[t[67]||(t[67]=s("small",{class:"text-muted d-block"},"Catalogues",-1)),s("span",ft,c(l.nb_catalogues||0),1)]),s("div",gt,[t[68]||(t[68]=s("small",{class:"text-muted d-block"},"Statut",-1)),l.is_active?(r(),n("span",yt,"Actif")):(r(),n("span",vt,"Inactif"))])]),s("div",kt,[s("a",{href:`/admin/products/${l.id}`,class:"btn btn-sm btn-outline-primary flex-fill"},[...t[69]||(t[69]=[s("i",{class:"bi bi-eye me-1"},null,-1),m("Voir ",-1)])],8,ht),s("a",{href:`/admin/products/${l.id}/edit`,class:"btn btn-sm btn-outline-secondary flex-fill"},[...t[70]||(t[70]=[s("i",{class:"bi bi-pencil me-1"},null,-1),m("Modifier ",-1)])],8,_t)])])]))),128))])])])]))])])],64)),(r(),S($,{to:"body"},[f(s("div",{class:g(["modal fade",{show:u.value}]),"aria-hidden":!u.value,tabindex:"-1",style:C(u.value?{display:"flex",visibility:"visible"}:{display:"none",visibility:"hidden"}),onClick:P(d,["self"])},[s("div",{class:g(["modal-backdrop fade",{show:u.value}]),onClick:d},null,2),s("div",{class:"modal-dialog modal-lg modal-dialog-scrollable",role:"document",onClick:t[22]||(t[22]=P(()=>{},["stop"]))},[s("div",Ct,[s("div",{class:"modal-header"},[t[72]||(t[72]=s("h5",{class:"modal-title"},"Créer un nouveau produit",-1)),s("button",{type:"button",class:"btn-close","aria-label":"Fermer",onClick:d})]),s("div",xt,[u.value?(r(),S(q,{key:0,categories:i(e).categories,suppliers:i(e).suppliers,product:null,"product-id":null,modal:!0,"csrf-token":a.value,onSuccess:B,onCancel:d},null,8,["categories","suppliers","csrf-token"])):_("",!0)])])])],14,wt),[[F,u.value]])]))]))}},A=L(It);A.use(Q());A.mount("#admin-produits-app");
