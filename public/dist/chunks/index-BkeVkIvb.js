const c=Symbol("AuthRequired");function o(t){if(t.status===401){const n=new Error("Session requise");throw n.code=c,n}}async function d(){const t=await fetch("/api/home",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function w(t="all"){const n=await fetch(`/api/admin/dashboard?scope=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function p(t){const n=await fetch(`/api/commandes/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function u(t,n,e){const a=await fetch(`/article/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur sauvegarde note")}return a.json()}async function f(){const t=await fetch("/api/commandes",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function h(){const t=await fetch("/api/commandes/caisse",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function l(t,n,e){const a=await fetch(`/api/commandes/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur sauvegarde note")}return a.json()}async function T(t){const n=await fetch(`/api/caisse/ventes-historique/${t}`,{method:"GET",credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function j(t={}){const n=new URLSearchParams;t.limit!=null&&n.set("limit",t.limit),t.offset!=null&&n.set("offset",t.offset),t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin),t.numero_ticket&&n.set("numero_ticket",t.numero_ticket),t.caissier_id!=null&&n.set("caissier_id",t.caissier_id);const e=await fetch(`/api/caisse/ventes-historique?${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function E(){const t=await fetch("/api/caisse/produits",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function m(){const t=await fetch("/api/caisse/utilisateurs",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function y(){const t=await fetch("/api/caisse/modes-paiement",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function C(t){const n=await fetch("/api/caisse/ventes",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function S(t){const n=await fetch("/api/caisse/paiements",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function O(t){const n=await fetch(`/api/caisse/commandes-utilisateur?user_id=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function k(t){const n=await fetch(`/api/caisse/commandes/${t}/articles`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function _(t={}){const n=new URLSearchParams;t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin);const e=await fetch(`/api/caisse/ventes-historique/stats/resume?${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function N(t){const n=await fetch(`/api/commandes/${t}/send-pdf`,{method:"GET",credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||"Erreur envoi email")}return n.json()}async function A(){const t=await fetch("/api/paniers",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function P(t){const n=await fetch(`/api/panier/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function R(t,n){const e=await fetch(`/api/panier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":n||""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur suppression")}return e.json()}async function $(){const t=await fetch("/api/users",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function F(t,n,e){const a=await fetch(`/api/panier/${t}/change-owner`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({user_id:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur changement propriétaire")}return a.json()}async function K(t,n){const e=await fetch(`/panier/${t}/supprimer`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":n||""},credentials:"include",body:JSON.stringify({source:""})});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur suppression")}return e}async function g(){const t=await fetch("/api/catalogues",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function H(t,n=!1){const e=n?`/api/catalogues/${t}?nouveau=1`:`/api/catalogues/${t}`,a=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||`HTTP ${a.status}`)}return a.json()}async function b(t,n,e,a,s){const i=await fetch("/panier/update-quantity",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":s||""},credentials:"include",body:JSON.stringify({catalog_file_id:t,catalog_product_id:n,quantity:parseInt(e)||0,nouveau_panier:a===!0})});if(o(i),!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.error||"Erreur mise à jour quantité")}return i.json()}async function G(t,n,e,a){const s=await fetch("/panier/update-note",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":a||""},credentials:"include",body:JSON.stringify({catalog_file_id:t,catalog_product_id:n,note:e??""})});if(o(s),!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.error||"Erreur mise à jour note")}return s.json()}async function U(t,n,e){const a=await fetch(`/api/panier/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n??""})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur mise à jour note panier")}return a.json()}async function J(t,n){const e=await fetch(`/panier/${t}/submit`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":n||""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur validation panier")}return e.json()}async function v(t,n){const e=await fetch(`/commandes/${t}/edit`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":n||""},credentials:"include",body:JSON.stringify({source:""})});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur réouverture")}return e}async function D(){const t=await fetch("/api/admin/trace",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function q(){const t=await fetch("/api/admin/stats",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function z(){const t=await fetch("/api/admin/stats/commandes",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function L(){const t=await fetch("/api/admin/stats/utilisateurs",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function x(){const t=await fetch("/api/admin/stats/catalogues",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function B(){const t=await fetch("/api/admin/stats/commandes-periode",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function V(){const t=await fetch("/api/admin/categories",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function I(t){const n=await fetch("/api/admin/categories/merge",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function M(){const t=await fetch("/api/admin/suppliers",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Q(t){const n=await fetch("/api/admin/suppliers/merge",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function X(){const t=await fetch("/api/admin/roles",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function W(t){const n=await fetch(`/api/admin/roles/${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Y(){const t=await fetch("/api/admin/permissions",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Z(t,n){const e=await fetch(`/api/admin/roles/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function nn(t){const n=await fetch("/api/admin/roles",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function tn(t){const n=await fetch(`/api/admin/roles/${t}`,{method:"DELETE",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function en(t){const n=await fetch(`/api/admin/catalogues/${t}/synthese`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function on(t){const n=await fetch(`/api/admin/catalogues/${t}/synthese-detaillee`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function an(t){const n=t?`/api/admin/catalogues?scope=${encodeURIComponent(t)}`:"/api/admin/catalogues",e=await fetch(n,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function sn(){const t=await fetch("/api/admin/products",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function rn(t){const n=await fetch("/api/admin/products/bulk-update",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function cn(){const t=await fetch("/api/admin/users",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function dn(t){const n=await fetch(`/api/admin/users/${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function wn(t){const n=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function pn(t,n){const e=await fetch(`/api/admin/users/${t}/roles`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function un(t){const n=await fetch("/api/admin/users/bulk-assign-roles",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function fn(t,n){const e=await fetch(`/api/admin/users/${t}/toggle-active`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function hn(t){const n=await fetch(`/api/admin/users/${t}`,{method:"DELETE",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function ln(){const t=await fetch("/api/admin/bandeaux",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Tn(){const t=await fetch("/api/admin/bandeaux/organizations",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function jn(t){const n=await fetch("/api/admin/bandeaux",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function En(t,n){const e=await fetch(`/api/admin/bandeaux/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function mn(t){const n=await fetch(`/api/admin/bandeaux/${t}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function yn(){const t=await fetch("/api/admin/organizations",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Cn(t){const n=await fetch(`/api/admin/organizations/${t}/stats`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Sn(t){const n=await fetch("/api/admin/organizations",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function On(t,n){const e=await fetch(`/api/admin/organizations/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function kn(t){const n=await fetch(`/api/admin/organizations/${t}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function _n(t=500){const n=await fetch(`/api/admin/email-queue?limit=${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Nn(t){const n=await fetch(`/api/admin/user-roles/${t}/roles`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function An(t){const n=await fetch(`/api/admin/user-roles/${t}/effective-permissions`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Pn(t,n){const e=await fetch(`/api/admin/user-roles/${t}/roles`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function Rn(t,n){const e=await fetch(`/api/admin/user-roles/${t}/roles/${n}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}export{q as $,c as A,k as B,O as C,y as D,m as E,E as F,D as G,mn as H,jn as I,En as J,Tn as K,ln as L,kn as M,Sn as N,On as O,Cn as P,yn as Q,_n as R,Rn as S,Pn as T,X as U,Nn as V,An as W,z as X,L as Y,x as Z,B as _,w as a,I as a0,V as a1,tn as a2,nn as a3,Z as a4,Y as a5,W as a6,Q as a7,M as a8,hn as a9,fn as aa,un as ab,pn as ac,dn as ad,wn as ae,cn as af,rn as ag,sn as ah,an as ai,en as aj,on as ak,T as b,l as c,f as d,h as e,d as f,g,K as h,A as i,u as j,p as k,F as l,J as m,G as n,b as o,H as p,R as q,v as r,N as s,$ as t,U as u,P as v,_ as w,j as x,C as y,S as z};
