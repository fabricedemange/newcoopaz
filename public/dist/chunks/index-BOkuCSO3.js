const d=Symbol("AuthRequired");function o(t){if(t.status===401){const n=new Error("Session requise");throw n.code=d,n}}async function w(){const t=await fetch("/api/home",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function p(t="all"){const n=await fetch(`/api/admin/dashboard?scope=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function u(t){const n=await fetch(`/api/commandes/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({})),a=new Error(e.error||`HTTP ${n.status}`);throw n.status===404&&(a.notFound=!0),a}return n.json()}async function f(t,n,e){const a=await fetch(`/article/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur sauvegarde note")}return a.json()}async function h(){const t=await fetch("/api/commandes",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function l(){const t=await fetch("/api/commandes/caisse",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function T(t,n,e){const a=await fetch(`/api/commandes/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur sauvegarde note")}return a.json()}async function j(t){const n=await fetch(`/api/caisse/ventes-historique/${t}`,{method:"GET",credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function E(t={}){const n=new URLSearchParams;t.limit!=null&&n.set("limit",t.limit),t.offset!=null&&n.set("offset",t.offset),t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin),t.numero_ticket&&n.set("numero_ticket",t.numero_ticket),t.caissier_id!=null&&n.set("caissier_id",t.caissier_id);const e=await fetch(`/api/caisse/ventes-historique?${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function m(){const t=await fetch("/api/caisse/produits",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function y(){const t=await fetch("/api/caisse/utilisateurs",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function C(){const t=await fetch("/api/caisse/modes-paiement",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function S(t){const n=await fetch("/api/caisse/ventes",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function k(t){const n=await fetch("/api/caisse/paiements",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function O(t){const n=t?`?adherent_id=${encodeURIComponent(t)}`:"",e=await fetch(`/api/caisse/cotisation/check${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function _(t={}){const n=new URLSearchParams;t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin),t.limit&&n.set("limit",String(t.limit));const e=n.toString()?`?${n.toString()}`:"",a=await fetch(`/api/caisse/cotisation/mon-historique${e}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||`HTTP ${a.status}`)}return a.json()}async function A(t){const n=await fetch(`/api/caisse/commandes-utilisateur?user_id=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function N(t){const n=await fetch(`/api/caisse/commandes/${t}/articles`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function P(t={}){const n=new URLSearchParams;t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin);const e=await fetch(`/api/caisse/ventes-historique/stats/resume?${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function R(t){const n=await fetch(`/api/commandes/${t}/send-pdf`,{method:"GET",credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||"Erreur envoi email")}return n.json()}async function $(){const t=await fetch("/api/paniers",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function F(t){const n=await fetch(`/api/panier/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function K(t,n){const e=await fetch(`/api/panier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":n||""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur suppression")}return e.json()}async function g(){const t=await fetch("/api/users",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function H(t,n,e){const a=await fetch(`/api/panier/${t}/change-owner`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({user_id:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur changement propriétaire")}return a.json()}async function b(t,n){const e=await fetch(`/panier/${t}/supprimer`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":n||""},credentials:"include",body:JSON.stringify({source:""})});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur suppression")}return e}async function G(){const t=await fetch("/api/catalogues",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function U(t,n=!1){const e=n?`/api/catalogues/${t}?nouveau=1`:`/api/catalogues/${t}`,a=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||`HTTP ${a.status}`)}return a.json()}async function J(t){const n=await fetch(`/api/catalogues/${t}/produits-commandes-recentes`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function q(t,n,e,a,s){const i={catalog_file_id:t,catalog_product_id:n,quantity:parseInt(e)||0,nouveau_panier:a===!0},r=await fetch("/panier/update-quantity",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":s||""},credentials:"include",body:JSON.stringify(i)});if(o(r),!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.error||"Erreur mise à jour quantité")}return r.json()}async function v(t,n,e,a){const i=await fetch("/panier/update-note",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":a||""},credentials:"include",body:JSON.stringify({catalog_file_id:t,catalog_product_id:n,note:e??""})});if(o(i),!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.error||"Erreur mise à jour note")}return i.json()}async function D(t,n,e){const a=await fetch(`/api/panier/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n??""})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur mise à jour note panier")}return a.json()}async function z(t,n){const e=await fetch(`/panier/${t}/submit`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":n||""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur validation panier")}return e.json()}async function L(t,n){const e=await fetch(`/commandes/${t}/edit`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":n||""},credentials:"include",body:JSON.stringify({source:""})});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur réouverture")}return e}async function x(){const t=await fetch("/api/admin/trace",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function B(){const t=await fetch("/api/admin/stats",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function M(){const t=await fetch("/api/admin/stats/commandes",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function V(){const t=await fetch("/api/admin/stats/utilisateurs",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function I(){const t=await fetch("/api/admin/stats/catalogues",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Q(){const t=await fetch("/api/admin/stats/commandes-periode",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function X(){const t=await fetch("/api/admin/categories",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function W(t){const n=await fetch("/api/admin/categories/merge",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Y(){const t=await fetch("/api/admin/suppliers",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Z(t){const n=await fetch("/api/admin/suppliers/merge",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function nn(){const t=await fetch("/api/admin/roles",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function tn(t){const n=await fetch(`/api/admin/roles/${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function en(){const t=await fetch("/api/admin/permissions",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function on(t,n){const e=await fetch(`/api/admin/roles/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function an(t){const n=await fetch("/api/admin/roles",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function sn(t){const n=await fetch(`/api/admin/roles/${t}`,{method:"DELETE",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function rn(t){const n=await fetch(`/api/admin/catalogues/${t}/synthese`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function cn(t){const n=await fetch(`/api/admin/catalogues/${t}/synthese-detaillee`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function dn(t){const n=t?`/api/admin/catalogues?scope=${encodeURIComponent(t)}`:"/api/admin/catalogues",e=await fetch(n,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function wn(){const t=await fetch("/api/admin/products",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function pn(t){const n=await fetch("/api/admin/products/bulk-update",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function un(){const t=await fetch("/api/admin/users",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function fn(t){const n=await fetch(`/api/admin/users/${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function hn(t){const n=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function ln(t,n){const e=await fetch(`/api/admin/users/${t}/roles`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function Tn(t){const n=await fetch("/api/admin/users/bulk-assign-roles",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function jn(t,n){const e=await fetch(`/api/admin/users/${t}/toggle-active`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function En(t){const n=await fetch(`/api/admin/users/${t}`,{method:"DELETE",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function mn(){const t=await fetch("/api/admin/bandeaux",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function yn(){const t=await fetch("/api/admin/bandeaux/organizations",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Cn(t){const n=await fetch("/api/admin/bandeaux",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Sn(t,n){const e=await fetch(`/api/admin/bandeaux/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function kn(t){const n=await fetch(`/api/admin/bandeaux/${t}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function On(){const t=await fetch("/api/admin/organizations",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function _n(t){const n=await fetch(`/api/admin/organizations/${t}/stats`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function An(t){const n=await fetch("/api/admin/organizations",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Nn(t,n){const e=await fetch(`/api/admin/organizations/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function Pn(t){const n=await fetch(`/api/admin/organizations/${t}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Rn(t=500){const n=await fetch(`/api/admin/email-queue?limit=${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function $n(t){const n=await fetch(`/api/admin/user-roles/${t}/roles`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Fn(t){const n=await fetch(`/api/admin/user-roles/${t}/effective-permissions`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Kn(t,n){const e=await fetch(`/api/admin/user-roles/${t}/roles`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function gn(t,n){const e=await fetch(`/api/admin/user-roles/${t}/roles/${n}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}export{V as $,d as A,S as B,k as C,N as D,A as E,O as F,C as G,y as H,m as I,x as J,kn as K,Cn as L,Sn as M,yn as N,mn as O,Pn as P,An as Q,Nn as R,_n as S,On as T,Rn as U,gn as V,Kn as W,nn as X,$n as Y,Fn as Z,M as _,p as a,I as a0,Q as a1,B as a2,W as a3,X as a4,sn as a5,an as a6,on as a7,en as a8,tn as a9,Z as aa,Y as ab,En as ac,jn as ad,Tn as ae,ln as af,fn as ag,hn as ah,un as ai,pn as aj,wn as ak,dn as al,rn as am,cn as an,j as b,T as c,h as d,l as e,w as f,_ as g,G as h,b as i,$ as j,f as k,u as l,J as m,H as n,z as o,v as p,q,L as r,R as s,U as t,D as u,K as v,g as w,F as x,P as y,E as z};
