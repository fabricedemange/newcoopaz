const d=Symbol("AuthRequired");function o(t){if(t.status===401){const n=new Error("Session requise");throw n.code=d,n}}async function w(){const t=await fetch("/api/home",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function p(t="all"){const n=await fetch(`/api/admin/dashboard?scope=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function u(t){const n=await fetch(`/api/commandes/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({})),a=new Error(e.error||`HTTP ${n.status}`);throw n.status===404&&(a.notFound=!0),a}return n.json()}async function f(t,n,e){const a=await fetch(`/article/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur sauvegarde note")}return a.json()}async function h(){const t=await fetch("/api/commandes",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function l(){const t=await fetch("/api/commandes/caisse",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function T(t,n,e){const a=await fetch(`/api/commandes/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur sauvegarde note")}return a.json()}async function j(t){const n=await fetch(`/api/caisse/ventes-historique/${t}`,{method:"GET",credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function E(t={}){const n=new URLSearchParams;t.limit!=null&&n.set("limit",t.limit),t.offset!=null&&n.set("offset",t.offset),t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin),t.numero_ticket&&n.set("numero_ticket",t.numero_ticket),t.caissier_id!=null&&n.set("caissier_id",t.caissier_id);const e=await fetch(`/api/caisse/ventes-historique?${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function m(){const t=await fetch("/api/caisse/produits",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function y(){const t=await fetch("/api/caisse/utilisateurs",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function C(){const t=await fetch("/api/caisse/modes-paiement",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function S(t){const n=await fetch("/api/caisse/ventes",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function k(t){const n=await fetch("/api/caisse/inventaires",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify({comment:null})});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function O(t={}){const n=new URLSearchParams(t).toString(),e=await fetch(`/api/caisse/inventaires${n?`?${n}`:""}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function _(t){const n=await fetch(`/api/caisse/inventaires/${t}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw n.status===404?Object.assign(new Error(e.error||"Non trouvé"),{notFound:!0}):new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function N(t,n,e,a){const s={product_id:n,quantite_comptee:e};a!=null&&(s.comment=a);const i=await fetch(`/api/caisse/inventaires/${t}/lignes`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(s)});if(o(i),!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.error||`HTTP ${i.status}`)}return i.json()}async function A(t){const n=await fetch(`/api/caisse/inventaires/${t}/appliquer`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function P(t={}){const n=new URLSearchParams(t).toString(),e=await fetch(`/api/caisse/stock-mouvements${n?`?${n}`:""}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function $(t){const n=await fetch("/api/caisse/paiements",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function R(t){const n=t?`?adherent_id=${encodeURIComponent(t)}`:"",e=await fetch(`/api/caisse/cotisation/check${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function F(t={}){const n=new URLSearchParams;t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin),t.limit&&n.set("limit",String(t.limit));const e=n.toString()?`?${n.toString()}`:"",a=await fetch(`/api/caisse/cotisation/mon-historique${e}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||`HTTP ${a.status}`)}return a.json()}async function K(t){const n=await fetch(`/api/caisse/commandes-utilisateur?user_id=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function g(t){const n=await fetch(`/api/caisse/commandes/${t}/articles`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function H(t={}){const n=new URLSearchParams;t.date_debut&&n.set("date_debut",t.date_debut),t.date_fin&&n.set("date_fin",t.date_fin);const e=await fetch(`/api/caisse/ventes-historique/stats/resume?${n}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function b(t){const n=await fetch(`/api/commandes/${t}/send-pdf`,{method:"GET",credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||"Erreur envoi email")}return n.json()}async function G(){const t=await fetch("/api/paniers",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function v(t){const n=await fetch(`/api/panier/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function U(t,n){const e=await fetch(`/api/panier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":n||""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur suppression")}return e.json()}async function J(){const t=await fetch("/api/users",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function q(t,n,e){const a=await fetch(`/api/panier/${t}/change-owner`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({user_id:n})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur changement propriétaire")}return a.json()}async function D(t,n){const e=await fetch(`/panier/${t}/supprimer`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":n||""},credentials:"include",body:JSON.stringify({source:""})});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur suppression")}return e}async function L(){const t=await fetch("/api/catalogues",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function z(t,n=!1){const e=n?`/api/catalogues/${t}?nouveau=1`:`/api/catalogues/${t}`,a=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||`HTTP ${a.status}`)}return a.json()}async function I(t){const n=await fetch(`/api/catalogues/${t}/produits-commandes-recentes`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function x(t,n,e,a,s){const i={catalog_file_id:t,catalog_product_id:n,quantity:parseInt(e)||0,nouveau_panier:a===!0},r=await fetch("/panier/update-quantity",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":s||""},credentials:"include",body:JSON.stringify(i)});if(o(r),!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.error||"Erreur mise à jour quantité")}return r.json()}async function B(t,n,e,a){const i=await fetch("/panier/update-note",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":a||""},credentials:"include",body:JSON.stringify({catalog_file_id:t,catalog_product_id:n,note:e??""})});if(o(i),!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.error||"Erreur mise à jour note")}return i.json()}async function M(t,n,e){const a=await fetch(`/api/panier/${t}/note`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":e||""},credentials:"include",body:JSON.stringify({note:n??""})});if(o(a),!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.error||"Erreur mise à jour note panier")}return a.json()}async function V(t,n){const e=await fetch(`/panier/${t}/submit`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":n||""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur validation panier")}return e.json()}async function Q(t,n){const e=await fetch(`/commandes/${t}/edit`,{method:"POST",headers:{"Content-Type":"application/json","csrf-token":n||""},credentials:"include",body:JSON.stringify({source:""})});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||"Erreur réouverture")}return e}async function X(){const t=await fetch("/api/admin/trace",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function W(){const t=await fetch("/api/admin/stats",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Y(){const t=await fetch("/api/admin/stats/commandes",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Z(){const t=await fetch("/api/admin/stats/utilisateurs",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function nn(){const t=await fetch("/api/admin/stats/catalogues",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function tn(){const t=await fetch("/api/admin/stats/commandes-periode",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function en(){const t=await fetch("/api/admin/categories",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function on(t){const n=await fetch("/api/admin/categories/merge",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function an(){const t=await fetch("/api/admin/suppliers",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function sn(t){const n=await fetch("/api/admin/suppliers/merge",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function rn(){const t=await fetch("/api/admin/roles",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function cn(t){const n=await fetch(`/api/admin/roles/${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function dn(){const t=await fetch("/api/admin/permissions",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function wn(t,n){const e=await fetch(`/api/admin/roles/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function pn(t){const n=await fetch("/api/admin/roles",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function un(t){const n=await fetch(`/api/admin/roles/${t}`,{method:"DELETE",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function fn(t){const n=await fetch(`/api/admin/catalogues/${t}/synthese`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function hn(t){const n=await fetch(`/api/admin/catalogues/${t}/synthese-detaillee`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function ln(t){const n=t?`/api/admin/catalogues?scope=${encodeURIComponent(t)}`:"/api/admin/catalogues",e=await fetch(n,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function Tn(){const t=await fetch("/api/admin/products",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function jn(t){const n=await fetch("/api/admin/products/bulk-update",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function En(){const t=await fetch("/api/admin/users",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function mn(t){const n=await fetch(`/api/admin/users/${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function yn(t){const n=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Cn(t,n){const e=await fetch(`/api/admin/users/${t}/roles`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function Sn(t){const n=await fetch("/api/admin/users/bulk-assign-roles",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function kn(t,n){const e=await fetch(`/api/admin/users/${t}/toggle-active`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function On(t){const n=await fetch(`/api/admin/users/${t}`,{method:"DELETE",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function _n(){const t=await fetch("/api/admin/bandeaux",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Nn(){const t=await fetch("/api/admin/bandeaux/organizations",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function An(t){const n=await fetch("/api/admin/bandeaux",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Pn(t,n){const e=await fetch(`/api/admin/bandeaux/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function $n(t){const n=await fetch(`/api/admin/bandeaux/${t}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Rn(){const t=await fetch("/api/admin/organizations",{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(t),!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`HTTP ${t.status}`)}return t.json()}async function Fn(t){const n=await fetch(`/api/admin/organizations/${t}/stats`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Kn(t){const n=await fetch("/api/admin/organizations",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(t)});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function gn(t,n){const e=await fetch(`/api/admin/organizations/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function Hn(t){const n=await fetch(`/api/admin/organizations/${t}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function bn(t=500){const n=await fetch(`/api/admin/email-queue?limit=${t}`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Gn(t){const n=await fetch(`/api/admin/user-roles/${t}/roles`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function vn(t){const n=await fetch(`/api/admin/user-roles/${t}/effective-permissions`,{method:"GET",headers:{Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(n),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||`HTTP ${n.status}`)}return n.json()}async function Un(t,n){const e=await fetch(`/api/admin/user-roles/${t}/roles`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include",body:JSON.stringify(n)});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async function Jn(t,n){const e=await fetch(`/api/admin/user-roles/${t}/roles/${n}`,{method:"DELETE",headers:{"csrf-token":typeof window<"u"&&window.CSRF_TOKEN?window.CSRF_TOKEN:""},credentials:"include"});if(o(e),!e.ok){const a=await e.json().catch(()=>({}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}export{Jn as $,d as A,S as B,$ as C,g as D,K as E,R as F,C as G,y as H,m as I,k as J,N as K,A as L,P as M,O as N,_ as O,X as P,$n as Q,An as R,Pn as S,Nn as T,_n as U,Hn as V,Kn as W,gn as X,Fn as Y,Rn as Z,bn as _,p as a,Un as a0,rn as a1,Gn as a2,vn as a3,Y as a4,Z as a5,nn as a6,tn as a7,W as a8,on as a9,en as aa,un as ab,pn as ac,wn as ad,dn as ae,cn as af,sn as ag,an as ah,On as ai,kn as aj,Sn as ak,Cn as al,mn as am,yn as an,En as ao,jn as ap,Tn as aq,ln as ar,fn as as,hn as at,j as b,T as c,h as d,l as e,w as f,F as g,L as h,D as i,G as j,f as k,u as l,I as m,q as n,V as o,B as p,x as q,Q as r,b as s,z as t,M as u,U as v,J as w,v as x,H as y,E as z};
