import{i as b,o as t,c as l,F as c,a as s,b as n,t as a,d as u,k as v,p as h,r as _,h as p}from"./chunks/runtime-dom.esm-bundler-C8CGTSXe.js";import{c as g}from"./chunks/pinia-DIU_KYYh.js";const y={class:"container-fluid px-3 mt-4"},f={key:0,class:"alert alert-warning"},k={class:"row"},x={class:"col-12"},A={class:"mb-4"},w={key:0,class:"badge bg-success"},I={key:1,class:"badge bg-secondary"},N={class:"row"},$={class:"col-12 mb-3"},C={class:"d-flex gap-2"},P=["href"],S={class:"row"},T={class:"col-12 col-lg-4 mb-3"},V={class:"card"},B={class:"card-body"},D={class:"row mb-0"},F={class:"col-sm-8"},M=["href"],E={key:1,class:"text-muted"},L={class:"col-sm-8"},z={class:"col-sm-8"},R={key:1,class:"text-muted"},j={class:"col-sm-8"},q={class:"col-12 col-lg-8"},G={class:"card"},H={class:"card-header"},J={class:"card-title mb-0"},K={class:"card-body"},O={key:0,class:"alert alert-info"},Q={key:1,class:"table-responsive"},U={class:"table table-hover"},W=["href"],X={key:0},Y={key:1,class:"text-muted"},Z={key:1,class:"text-muted"},ss={class:"badge bg-info"},es={key:0,class:"badge bg-success"},ts={key:1,class:"badge bg-secondary"},ls={class:"btn-group btn-group-sm"},is=["href"],os=["href"],as={__name:"AdminSupplierDetailPage",setup(ns){const i=_(null),d=_([]);return b(()=>{const r=window.INITIAL_DATA||{};i.value=r.supplier||null,d.value=r.products||[]}),(r,e)=>(t(),l("div",y,[i.value?(t(),l(c,{key:1},[s("div",k,[s("div",x,[s("h2",A,[n(a(i.value.nom)+" ",1),i.value.is_active?(t(),l("span",w,"Actif")):(t(),l("span",I,"Inactif"))])])]),s("div",N,[s("div",$,[s("div",C,[s("a",{href:`/admin/suppliers/${i.value.id}/edit`,class:"btn btn-primary"},[...e[0]||(e[0]=[s("i",{class:"bi bi-pencil me-2"},null,-1),n("Modifier ",-1)])],8,P),e[1]||(e[1]=s("a",{href:"/admin/suppliers",class:"btn btn-outline-secondary"},[s("i",{class:"bi bi-arrow-left me-2"}),n("Retour à la liste ")],-1))])])]),s("div",S,[s("div",T,[s("div",V,[e[7]||(e[7]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},[s("i",{class:"bi bi-info-circle me-2"}),n("Informations ")])],-1)),s("div",B,[s("dl",D,[e[4]||(e[4]=s("dt",{class:"col-sm-4"},"Email",-1)),s("dd",F,[i.value.email?(t(),l("a",{key:0,href:`mailto:${i.value.email}`},a(i.value.email),9,M)):(t(),l("span",E,"-"))]),e[5]||(e[5]=s("dt",{class:"col-sm-4"},"Téléphone",-1)),s("dd",L,a(i.value.telephone||"-"),1),e[6]||(e[6]=s("dt",{class:"col-sm-4"},"Adresse",-1)),s("dd",z,[i.value.adresse||i.value.code_postal||i.value.ville?(t(),l(c,{key:0},[n(a(i.value.adresse||""),1),e[2]||(e[2]=s("br",null,null,-1)),n(" "+a(i.value.code_postal||"")+" "+a(i.value.ville||""),1)],64)):(t(),l("span",R,"-"))]),i.value.notes?(t(),l(c,{key:0},[e[3]||(e[3]=s("dt",{class:"col-sm-4"},"Notes",-1)),s("dd",j,a(i.value.notes),1)],64)):u("",!0)])])])]),s("div",q,[s("div",G,[s("div",H,[s("h5",J,[e[8]||(e[8]=s("i",{class:"bi bi-box-seam me-2"},null,-1)),n(" Produits ("+a(d.value.length)+") ",1)])]),s("div",K,[d.value.length===0?(t(),l("div",O,[...e[9]||(e[9]=[s("i",{class:"bi bi-info-circle me-2"},null,-1),n(" Aucun produit n'est encore assigné à ce fournisseur. ",-1)])])):(t(),l("div",Q,[s("table",U,[e[12]||(e[12]=s("thead",{class:"thead-administration"},[s("tr",null,[s("th",null,"Produit"),s("th",null,"Catégorie"),s("th",null,"Catalogues"),s("th",null,"Statut"),s("th",null,"Actions")])],-1)),s("tbody",null,[(t(!0),l(c,null,v(d.value,o=>(t(),l("tr",{key:o.id},[s("td",null,[s("a",{href:`/admin/products/${o.id}`,class:"text-decoration-none"},[s("strong",null,a(o.nom),1)],8,W),o.description?(t(),l("br",X)):u("",!0),o.description?(t(),l("small",Y,a(o.description.length>60?o.description.substring(0,60)+"...":o.description),1)):u("",!0)]),s("td",null,[o.categorie?(t(),l("span",{key:0,class:"badge",style:h({backgroundColor:o.categorie_couleur||"#6c757d"})},a(o.categorie),5)):(t(),l("span",Z,"-"))]),s("td",null,[s("span",ss,a(o.nb_catalogues||0),1)]),s("td",null,[o.is_active?(t(),l("span",es,"Actif")):(t(),l("span",ts,"Inactif"))]),s("td",null,[s("div",ls,[s("a",{href:`/admin/products/${o.id}`,class:"btn btn-outline-primary",title:"Voir"},[...e[10]||(e[10]=[s("i",{class:"bi bi-eye"},null,-1)])],8,is),s("a",{href:`/admin/products/${o.id}/edit`,class:"btn btn-outline-secondary",title:"Modifier"},[...e[11]||(e[11]=[s("i",{class:"bi bi-pencil"},null,-1)])],8,os)])])]))),128))])])]))])])])])],64)):(t(),l("div",f,"Fournisseur non trouvé."))]))}},m=p(as);m.use(g());m.mount("#admin-supplier-detail-app");
