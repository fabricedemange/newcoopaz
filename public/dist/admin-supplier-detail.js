import{i as b,o as t,c as l,F as c,a as s,b as n,t as a,j as h,d as u,l as v,q as p,r as _,h as g}from"./chunks/runtime-dom.esm-bundler-CuNObg1-.js";import{c as f}from"./chunks/pinia-gLxYYWQL.js";import{_ as y}from"./chunks/BackButton-DzFd1NqY.js";const k={class:"container-fluid px-3 mt-4"},x={key:0,class:"alert alert-warning"},A={class:"row"},w={class:"col-12"},I={class:"d-flex justify-content-between align-items-center flex-wrap gap-2 mb-3"},N={class:"mb-0"},$={key:0,class:"badge bg-success"},V={key:1,class:"badge bg-secondary"},C={class:"d-flex gap-2"},P=["href"],S={class:"row"},T={class:"col-12 col-lg-4 mb-3"},B={class:"card"},D={class:"card-body"},F={class:"row mb-0"},M={class:"col-sm-8"},j=["href"],E={key:1,class:"text-muted"},L={class:"col-sm-8"},q={class:"col-sm-8"},z={key:1,class:"text-muted"},G={class:"col-sm-8"},H={class:"col-12 col-lg-8"},J={class:"card"},K={class:"card-header"},O={class:"card-title mb-0"},Q={class:"card-body"},R={key:0,class:"alert alert-info"},U={key:1,class:"table-responsive"},W={class:"table table-hover"},X=["href"],Y={key:0},Z={key:1,class:"text-muted"},ss={key:1,class:"text-muted"},es={class:"badge bg-info"},ts={key:0,class:"badge bg-success"},ls={key:1,class:"badge bg-secondary"},is={class:"btn-group btn-group-sm"},os=["href"],as=["href"],ns={__name:"AdminSupplierDetailPage",setup(ds){const i=_(null),d=_([]);return b(()=>{const r=window.INITIAL_DATA||{};i.value=r.supplier||null,d.value=r.products||[]}),(r,e)=>(t(),l("div",k,[i.value?(t(),l(c,{key:1},[s("div",A,[s("div",w,[s("div",I,[s("h2",N,[n(a(i.value.nom)+" ",1),i.value.is_active?(t(),l("span",$,"Actif")):(t(),l("span",V,"Inactif"))]),s("div",C,[h(y),s("a",{href:`/admin/suppliers/${i.value.id}/edit`,class:"btn btn-primary"},[...e[0]||(e[0]=[s("i",{class:"bi bi-pencil me-2"},null,-1),n("Modifier ",-1)])],8,P)])])])]),s("div",S,[s("div",T,[s("div",B,[e[6]||(e[6]=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},[s("i",{class:"bi bi-info-circle me-2"}),n("Informations ")])],-1)),s("div",D,[s("dl",F,[e[3]||(e[3]=s("dt",{class:"col-sm-4"},"Email",-1)),s("dd",M,[i.value.email?(t(),l("a",{key:0,href:`mailto:${i.value.email}`},a(i.value.email),9,j)):(t(),l("span",E,"-"))]),e[4]||(e[4]=s("dt",{class:"col-sm-4"},"Téléphone",-1)),s("dd",L,a(i.value.telephone||"-"),1),e[5]||(e[5]=s("dt",{class:"col-sm-4"},"Adresse",-1)),s("dd",q,[i.value.adresse||i.value.code_postal||i.value.ville?(t(),l(c,{key:0},[n(a(i.value.adresse||""),1),e[1]||(e[1]=s("br",null,null,-1)),n(" "+a(i.value.code_postal||"")+" "+a(i.value.ville||""),1)],64)):(t(),l("span",z,"-"))]),i.value.notes?(t(),l(c,{key:0},[e[2]||(e[2]=s("dt",{class:"col-sm-4"},"Notes",-1)),s("dd",G,a(i.value.notes),1)],64)):u("",!0)])])])]),s("div",H,[s("div",J,[s("div",K,[s("h5",O,[e[7]||(e[7]=s("i",{class:"bi bi-box-seam me-2"},null,-1)),n(" Produits ("+a(d.value.length)+") ",1)])]),s("div",Q,[d.value.length===0?(t(),l("div",R,[...e[8]||(e[8]=[s("i",{class:"bi bi-info-circle me-2"},null,-1),n(" Aucun produit n'est encore assigné à ce fournisseur. ",-1)])])):(t(),l("div",U,[s("table",W,[e[11]||(e[11]=s("thead",{class:"thead-administration"},[s("tr",null,[s("th",null,"Produit"),s("th",null,"Catégorie"),s("th",null,"Catalogues"),s("th",null,"Statut"),s("th",null,"Actions")])],-1)),s("tbody",null,[(t(!0),l(c,null,v(d.value,o=>(t(),l("tr",{key:o.id},[s("td",null,[s("a",{href:`/admin/products/${o.id}`,class:"text-decoration-none"},[s("strong",null,a(o.nom),1)],8,X),o.description?(t(),l("br",Y)):u("",!0),o.description?(t(),l("small",Z,a(o.description.length>60?o.description.substring(0,60)+"...":o.description),1)):u("",!0)]),s("td",null,[o.categorie?(t(),l("span",{key:0,class:"badge",style:p({backgroundColor:o.categorie_couleur||"#6c757d"})},a(o.categorie),5)):(t(),l("span",ss,"-"))]),s("td",null,[s("span",es,a(o.nb_catalogues||0),1)]),s("td",null,[o.is_active?(t(),l("span",ts,"Actif")):(t(),l("span",ls,"Inactif"))]),s("td",null,[s("div",is,[s("a",{href:`/admin/products/${o.id}`,class:"btn btn-outline-primary",title:"Voir"},[...e[9]||(e[9]=[s("i",{class:"bi bi-eye"},null,-1)])],8,os),s("a",{href:`/admin/products/${o.id}/edit`,class:"btn btn-outline-secondary",title:"Modifier"},[...e[10]||(e[10]=[s("i",{class:"bi bi-pencil"},null,-1)])],8,as)])])]))),128))])])]))])])])])],64)):(t(),l("div",x,"Fournisseur non trouvé."))]))}},m=g(ns);m.use(f());m.mount("#admin-supplier-detail-app");
