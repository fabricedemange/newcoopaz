/* Solution rapide: Rendre les tableaux scrollables sur mobile */

@media (max-width: 767px) {
  /* Fix les conteneurs parents qui peuvent causer des dépassements */
  /* NE PAS mettre overflow-x: hidden sur body, sinon les tableaux ne peuvent pas scroller! */

  html, body {
    max-width: 100vw !important;
    overflow-x: visible !important;
  }

  .admin-content-wrapper,
  .container-fluid {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
    max-width: 100vw !important;
    width: 100% !important;
    overflow-x: visible !important;
    box-sizing: border-box !important;
  }

  .card {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  .card-body {
    padding: 0.5rem !important;
  }

  /* Cartes ultra-compactes pour commandes et paniers */
  .card.mb-3 {
    margin-bottom: 0.5rem !important;
  }

  .card-title {
    font-size: 0.9rem !important;
    margin-bottom: 0.25rem !important;
  }

  .card p,
  .card .alert {
    margin-bottom: 0.5rem !important;
    font-size: 0.85rem !important;
  }

  .card .row.g-2 {
    row-gap: 0.25rem !important;
    margin-bottom: 0.5rem !important;
  }

  .card .row.g-2 small {
    font-size: 0.7rem !important;
    margin-bottom: 0.1rem !important;
  }

  .card .row.g-2 > div {
    font-size: 0.85rem !important;
  }

  .card .badge {
    font-size: 0.7rem !important;
    padding: 0.2em 0.4em !important;
  }

  .card .d-grid.gap-2 {
    gap: 0.35rem !important;
  }

  .card .btn {
    padding: 0.35rem 0.5rem !important;
    font-size: 0.8rem !important;
  }

  .card .alert-info {
    padding: 0.35rem 0.5rem !important;
    font-size: 0.75rem !important;
  }

  /* Force tous les tableaux à être scrollables horizontalement sur mobile */
  .table-responsive,
  div.table-responsive {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: auto !important;
    overflow-y: visible !important;
    -webkit-overflow-scrolling: touch !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    position: relative !important;
    box-sizing: border-box !important;
  }

  /* Force le tableau à garder sa largeur naturelle */
  .table-responsive .table,
  .table-responsive table,
  div.table-responsive table {
    width: max-content !important;
    min-width: 100%;
    max-width: none !important;
    margin-bottom: 0 !important;
    display: table !important;
  }

  /* Réduire le padding des cellules pour gagner de l'espace */
  .table td,
  .table th {
    padding: 0.5rem 0.25rem !important;
    font-size: 0.875rem !important;
    white-space: nowrap !important;
  }

  /* Les boutons dans les tableaux plus compacts */
  .table .btn-sm {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.75rem !important;
  }

  /* Texte des boutons caché, garde juste l'icône */
  .table .btn-sm .bi {
    margin-right: 0 !important;
  }

  /* Icônes sans texte sur mobile */
  .table .btn-text-mobile-hide {
    display: none !important;
  }

  /* Card-body avec moins de padding */
  .card-body {
    padding: 0.75rem !important;
  }

  /* Badges plus petits */
  .badge {
    font-size: 0.7rem !important;
    padding: 0.25em 0.5em !important;
  }

  /* Réduire l'espacement dans les cartes */
  .card {
    margin-bottom: 0.75rem !important;
  }

  /* Admin content wrapper sur mobile */
  .admin-content-wrapper {
    padding: 0.5rem !important;
  }
}

/* Style alternatif: Transformer les tableaux en liste sur très petits écrans */
@media (max-width: 576px) {
  /* Option: Cacher certaines colonnes moins importantes sur très petits écrans */
  .table .hide-on-small {
    display: none !important;
  }

  /* Réduire encore plus les marges */
  .container-fluid {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Headers de cartes plus petits */
  .card-header {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.9rem !important;
  }

  /* Titres plus petits */
  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.25rem !important;
  }

  h3, h4, h5 {
    font-size: 1.1rem !important;
  }

  /* Réduire le padding des cellules encore plus */
  .table td,
  .table th {
    padding: 0.375rem 0.2rem !important;
    font-size: 0.8rem !important;
  }
}

/* Pour Safari iOS spécifiquement */
@supports (-webkit-touch-callout: none) {
  @media (max-width: 767px) {
    .table-responsive {
      overflow-x: scroll !important;
      -webkit-overflow-scrolling: touch !important;
    }
  }
}
